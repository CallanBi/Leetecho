"use strict";var Ho=Object.defineProperty,Xo=Object.defineProperties;var Bo=Object.getOwnPropertyDescriptors;var wa=Object.getOwnPropertySymbols;var xo=Object.prototype.hasOwnProperty,Wo=Object.prototype.propertyIsEnumerable;var Sa=(e,t,r)=>t in e?Ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oe=(e,t)=>{for(var r in t||(t={}))xo.call(t,r)&&Sa(e,r,t[r]);if(wa)for(var r of wa(t))Wo.call(t,r)&&Sa(e,r,t[r]);return e},lt=(e,t)=>Xo(e,Bo(t));var Yo=require("os"),jn=require("path"),Oe=require("electron"),Jo=require("util"),Qo=require("fs"),Zo=require("crypto"),ec=require("assert"),tc=require("events");function wt(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var ba=wt(Yo),jt=wt(jn),rc=wt(Oe),Oa=wt(Jo),Ln=wt(Qo),nc=wt(Zo),sc=wt(ec),ac=wt(tc),_r=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Fn={exports:{}},ic=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const Lt=ic,oc=new Set(["__proto__","prototype","constructor"]),cc=e=>!e.some(t=>oc.has(t));function Kr(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let s=t[n];for(;s[s.length-1]==="\\"&&t[n+1]!==void 0;)s=s.slice(0,-1)+".",s+=t[++n];r.push(s)}return cc(r)?r:[]}var lc={get(e,t,r){if(!Lt(e)||typeof t!="string")return r===void 0?e:r;const n=Kr(t);if(n.length!==0){for(let s=0;s<n.length;s++)if(e=e[n[s]],e==null){if(s!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!Lt(e)||typeof t!="string")return e;const n=e,s=Kr(t);for(let a=0;a<s.length;a++){const i=s[a];Lt(e[i])||(e[i]={}),a===s.length-1&&(e[i]=r),e=e[i]}return n},delete(e,t){if(!Lt(e)||typeof t!="string")return!1;const r=Kr(t);for(let n=0;n<r.length;n++){const s=r[n];if(n===r.length-1)return delete e[s],!0;if(e=e[s],!Lt(e))return!1}},has(e,t){if(!Lt(e)||typeof t!="string")return!1;const r=Kr(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(Lt(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},Mn={exports:{}},kn={exports:{}},Un={exports:{}},Vn={exports:{}};const Na=Ln.default;Vn.exports=e=>new Promise(t=>{Na.access(e,r=>{t(!r)})});Vn.exports.sync=e=>{try{return Na.accessSync(e),!0}catch{return!1}};var zn={exports:{}},qn={exports:{}};const Pa=(e,...t)=>new Promise(r=>{r(e(...t))});qn.exports=Pa;qn.exports.default=Pa;const uc=qn.exports,Ta=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},s=(c,o,...u)=>{r++;const d=uc(c,...u);o(d),d.then(n,n)},a=(c,o,...u)=>{r<e?s(c,o,...u):t.push(s.bind(null,c,o,...u))},i=(c,...o)=>new Promise(u=>a(c,u,...o));return Object.defineProperties(i,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),i};zn.exports=Ta;zn.exports.default=Ta;const Ia=zn.exports;class Ra extends Error{constructor(t){super();this.value=t}}const fc=(e,t)=>Promise.resolve(e).then(t),dc=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new Ra(t[0])));var hc=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=Ia(r.concurrency),s=[...e].map(i=>[i,n(fc,i,t)]),a=Ia(r.preserveOrder?1:1/0);return Promise.all(s.map(i=>a(dc,i))).then(()=>{}).catch(i=>i instanceof Ra?i.value:Promise.reject(i))};const Aa=jt.default,Ca=Vn.exports,pc=hc;Un.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),pc(e,r=>Ca(Aa.resolve(t.cwd,r)),t));Un.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(Ca.sync(Aa.resolve(t.cwd,r)))return r};const St=jt.default,Da=Un.exports;kn.exports=(e,t={})=>{const r=St.resolve(t.cwd||""),{root:n}=St.parse(r),s=[].concat(e);return new Promise(a=>{(function i(c){Da(s,{cwd:c}).then(o=>{o?a(St.join(c,o)):c===n?a(null):i(St.dirname(c))})})(r)})};kn.exports.sync=(e,t={})=>{let r=St.resolve(t.cwd||"");const{root:n}=St.parse(r),s=[].concat(e);for(;;){const a=Da.sync(s,{cwd:r});if(a)return St.join(r,a);if(r===n)return null;r=St.dirname(r)}};const ja=kn.exports;Mn.exports=async({cwd:e}={})=>ja("package.json",{cwd:e});Mn.exports.sync=({cwd:e}={})=>ja.sync("package.json",{cwd:e});var Gn={exports:{}};const ye=jt.default,La=ba.default,bt=La.homedir(),Kn=La.tmpdir(),{env:Jt}=process,mc=e=>{const t=ye.join(bt,"Library");return{data:ye.join(t,"Application Support",e),config:ye.join(t,"Preferences",e),cache:ye.join(t,"Caches",e),log:ye.join(t,"Logs",e),temp:ye.join(Kn,e)}},yc=e=>{const t=Jt.APPDATA||ye.join(bt,"AppData","Roaming"),r=Jt.LOCALAPPDATA||ye.join(bt,"AppData","Local");return{data:ye.join(r,e,"Data"),config:ye.join(t,e,"Config"),cache:ye.join(r,e,"Cache"),log:ye.join(r,e,"Log"),temp:ye.join(Kn,e)}},$c=e=>{const t=ye.basename(bt);return{data:ye.join(Jt.XDG_DATA_HOME||ye.join(bt,".local","share"),e),config:ye.join(Jt.XDG_CONFIG_HOME||ye.join(bt,".config"),e),cache:ye.join(Jt.XDG_CACHE_HOME||ye.join(bt,".cache"),e),log:ye.join(Jt.XDG_STATE_HOME||ye.join(bt,".local","state"),e),temp:ye.join(Kn,t,e)}},Fa=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?mc(e):process.platform==="win32"?yc(e):$c(e)};Gn.exports=Fa;Gn.exports.default=Fa;var ut={},se={};Object.defineProperty(se,"__esModule",{value:!0});se.NOOP=se.LIMIT_FILES_DESCRIPTORS=se.LIMIT_BASENAME_LENGTH=se.IS_USER_ROOT=se.IS_POSIX=se.DEFAULT_TIMEOUT_SYNC=se.DEFAULT_TIMEOUT_ASYNC=se.DEFAULT_WRITE_OPTIONS=se.DEFAULT_READ_OPTIONS=se.DEFAULT_FOLDER_MODE=se.DEFAULT_FILE_MODE=se.DEFAULT_ENCODING=void 0;const vc="utf8";se.DEFAULT_ENCODING=vc;const gc=438;se.DEFAULT_FILE_MODE=gc;const _c=511;se.DEFAULT_FOLDER_MODE=_c;const Ec={};se.DEFAULT_READ_OPTIONS=Ec;const wc={};se.DEFAULT_WRITE_OPTIONS=wc;const Sc=5e3;se.DEFAULT_TIMEOUT_ASYNC=Sc;const bc=100;se.DEFAULT_TIMEOUT_SYNC=bc;const Oc=!!process.getuid;se.IS_POSIX=Oc;const Nc=process.getuid?!process.getuid():!1;se.IS_USER_ROOT=Nc;const Pc=128;se.LIMIT_BASENAME_LENGTH=Pc;const Tc=1e4;se.LIMIT_FILES_DESCRIPTORS=Tc;const Ic=()=>{};se.NOOP=Ic;var Hr={},Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.attemptifySync=Qt.attemptifyAsync=void 0;const Ma=se,Rc=(e,t=Ma.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};Qt.attemptifyAsync=Rc;const Ac=(e,t=Ma.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};Qt.attemptifySync=Ac;var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});const Cc=se,ka={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!Cc.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!ka.isChangeErrorOk(e))throw e}};Hn.default=ka;var Zt={},Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});const Dc=se,le={interval:25,intervalId:void 0,limit:Dc.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{le.intervalId||(le.intervalId=setInterval(le.tick,le.interval))},reset:()=>{!le.intervalId||(clearInterval(le.intervalId),delete le.intervalId)},add:e=>{le.queueWaiting.add(e),le.queueActive.size<le.limit/2?le.tick():le.init()},remove:e=>{le.queueWaiting.delete(e),le.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>le.remove(r),r=()=>e(t);le.add(r)}),tick:()=>{if(!(le.queueActive.size>=le.limit)){if(!le.queueWaiting.size)return le.reset();for(const e of le.queueWaiting){if(le.queueActive.size>=le.limit)break;le.queueWaiting.delete(e),le.queueActive.add(e),e()}}}};Xn.default=le;Object.defineProperty(Zt,"__esModule",{value:!0});Zt.retryifySync=Zt.retryifyAsync=void 0;const jc=Xn,Lc=(e,t)=>function(r){return function n(){return jc.default.schedule().then(s=>e.apply(void 0,arguments).then(a=>(s(),a),a=>{if(s(),Date.now()>=r)throw a;if(t(a)){const i=Math.round(100+400*Math.random());return new Promise(o=>setTimeout(o,i)).then(()=>n.apply(void 0,arguments))}throw a}))}};Zt.retryifyAsync=Lc;const Fc=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(s){if(Date.now()>r)throw s;if(t(s))return n.apply(void 0,arguments);throw s}}};Zt.retryifySync=Fc;Object.defineProperty(Hr,"__esModule",{value:!0});const ie=Ln.default,Ce=Oa.default,De=Qt,Se=Hn,Ve=Zt,Mc={chmodAttempt:De.attemptifyAsync(Ce.promisify(ie.chmod),Se.default.onChangeError),chownAttempt:De.attemptifyAsync(Ce.promisify(ie.chown),Se.default.onChangeError),closeAttempt:De.attemptifyAsync(Ce.promisify(ie.close)),fsyncAttempt:De.attemptifyAsync(Ce.promisify(ie.fsync)),mkdirAttempt:De.attemptifyAsync(Ce.promisify(ie.mkdir)),realpathAttempt:De.attemptifyAsync(Ce.promisify(ie.realpath)),statAttempt:De.attemptifyAsync(Ce.promisify(ie.stat)),unlinkAttempt:De.attemptifyAsync(Ce.promisify(ie.unlink)),closeRetry:Ve.retryifyAsync(Ce.promisify(ie.close),Se.default.isRetriableError),fsyncRetry:Ve.retryifyAsync(Ce.promisify(ie.fsync),Se.default.isRetriableError),openRetry:Ve.retryifyAsync(Ce.promisify(ie.open),Se.default.isRetriableError),readFileRetry:Ve.retryifyAsync(Ce.promisify(ie.readFile),Se.default.isRetriableError),renameRetry:Ve.retryifyAsync(Ce.promisify(ie.rename),Se.default.isRetriableError),statRetry:Ve.retryifyAsync(Ce.promisify(ie.stat),Se.default.isRetriableError),writeRetry:Ve.retryifyAsync(Ce.promisify(ie.write),Se.default.isRetriableError),chmodSyncAttempt:De.attemptifySync(ie.chmodSync,Se.default.onChangeError),chownSyncAttempt:De.attemptifySync(ie.chownSync,Se.default.onChangeError),closeSyncAttempt:De.attemptifySync(ie.closeSync),mkdirSyncAttempt:De.attemptifySync(ie.mkdirSync),realpathSyncAttempt:De.attemptifySync(ie.realpathSync),statSyncAttempt:De.attemptifySync(ie.statSync),unlinkSyncAttempt:De.attemptifySync(ie.unlinkSync),closeSyncRetry:Ve.retryifySync(ie.closeSync,Se.default.isRetriableError),fsyncSyncRetry:Ve.retryifySync(ie.fsyncSync,Se.default.isRetriableError),openSyncRetry:Ve.retryifySync(ie.openSync,Se.default.isRetriableError),readFileSyncRetry:Ve.retryifySync(ie.readFileSync,Se.default.isRetriableError),renameSyncRetry:Ve.retryifySync(ie.renameSync,Se.default.isRetriableError),statSyncRetry:Ve.retryifySync(ie.statSync,Se.default.isRetriableError),writeSyncRetry:Ve.retryifySync(ie.writeSync,Se.default.isRetriableError)};Hr.default=Mc;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});const kc={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e=="undefined"};Bn.default=kc;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});const Xr={},Wn={next:e=>{const t=Xr[e];if(!t)return;t.shift();const r=t[0];r?r(()=>Wn.next(e)):delete Xr[e]},schedule:e=>new Promise(t=>{let r=Xr[e];r||(r=Xr[e]=[]),r.push(t),!(r.length>1)&&t(()=>Wn.next(e))})};xn.default=Wn;var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});const Uc=jt.default,Ua=se,Va=Hr,Ke={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",s=`.${n}${r}${t}`;return`${e}${s}`},get:(e,t,r=!0)=>{const n=Ke.truncate(t(e));return n in Ke.store?Ke.get(e,t,r):(Ke.store[n]=r,[n,()=>delete Ke.store[n]])},purge:e=>{!Ke.store[e]||(delete Ke.store[e],Va.default.unlinkAttempt(e))},purgeSync:e=>{!Ke.store[e]||(delete Ke.store[e],Va.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in Ke.store)Ke.purgeSync(e)},truncate:e=>{const t=Uc.basename(e);if(t.length<=Ua.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Ua.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",Ke.purgeSyncAll);Yn.default=Ke;Object.defineProperty(ut,"__esModule",{value:!0});ut.writeFileSync=ut.writeFile=ut.readFileSync=ut.readFile=void 0;const za=jt.default,Ne=se,ae=Hr,He=Bn,Vc=xn,Ot=Yn;function qa(e,t=Ne.DEFAULT_READ_OPTIONS){var r;if(He.default.isString(t))return qa(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Ne.DEFAULT_TIMEOUT_ASYNC);return ae.default.readFileRetry(n)(e,t)}ut.readFile=qa;function Ga(e,t=Ne.DEFAULT_READ_OPTIONS){var r;if(He.default.isString(t))return Ga(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Ne.DEFAULT_TIMEOUT_SYNC);return ae.default.readFileSyncRetry(n)(e,t)}ut.readFileSync=Ga;const Ka=(e,t,r,n)=>{if(He.default.isFunction(r))return Ka(e,t,Ne.DEFAULT_WRITE_OPTIONS,r);const s=Ha(e,t,r);return n&&s.then(n,n),s};ut.writeFile=Ka;const Ha=async(e,t,r=Ne.DEFAULT_WRITE_OPTIONS)=>{var n;if(He.default.isString(r))return Ha(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Ne.DEFAULT_TIMEOUT_ASYNC);let a=null,i=null,c=null,o=null,u=null;try{r.schedule&&(a=await r.schedule(e)),i=await Vc.default.schedule(e),e=await ae.default.realpathAttempt(e)||e,[o,c]=Ot.default.get(e,r.tmpCreate||Ot.default.create,r.tmpPurge!==!1);const d=Ne.IS_POSIX&&He.default.isUndefined(r.chown),p=He.default.isUndefined(r.mode);if(d||p){const g=await ae.default.statAttempt(e);g&&(r=oe({},r),d&&(r.chown={uid:g.uid,gid:g.gid}),p&&(r.mode=g.mode))}const w=za.dirname(e);await ae.default.mkdirAttempt(w,{mode:Ne.DEFAULT_FOLDER_MODE,recursive:!0}),u=await ae.default.openRetry(s)(o,"w",r.mode||Ne.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(o),He.default.isString(t)?await ae.default.writeRetry(s)(u,t,0,r.encoding||Ne.DEFAULT_ENCODING):He.default.isUndefined(t)||await ae.default.writeRetry(s)(u,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await ae.default.fsyncRetry(s)(u):ae.default.fsyncAttempt(u)),await ae.default.closeRetry(s)(u),u=null,r.chown&&await ae.default.chownAttempt(o,r.chown.uid,r.chown.gid),r.mode&&await ae.default.chmodAttempt(o,r.mode);try{await ae.default.renameRetry(s)(o,e)}catch(g){if(g.code!=="ENAMETOOLONG")throw g;await ae.default.renameRetry(s)(o,Ot.default.truncate(e))}c(),o=null}finally{u&&await ae.default.closeAttempt(u),o&&Ot.default.purge(o),a&&a(),i&&i()}},Xa=(e,t,r=Ne.DEFAULT_WRITE_OPTIONS)=>{var n;if(He.default.isString(r))return Xa(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Ne.DEFAULT_TIMEOUT_SYNC);let a=null,i=null,c=null;try{e=ae.default.realpathSyncAttempt(e)||e,[i,a]=Ot.default.get(e,r.tmpCreate||Ot.default.create,r.tmpPurge!==!1);const o=Ne.IS_POSIX&&He.default.isUndefined(r.chown),u=He.default.isUndefined(r.mode);if(o||u){const p=ae.default.statSyncAttempt(e);p&&(r=oe({},r),o&&(r.chown={uid:p.uid,gid:p.gid}),u&&(r.mode=p.mode))}const d=za.dirname(e);ae.default.mkdirSyncAttempt(d,{mode:Ne.DEFAULT_FOLDER_MODE,recursive:!0}),c=ae.default.openSyncRetry(s)(i,"w",r.mode||Ne.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(i),He.default.isString(t)?ae.default.writeSyncRetry(s)(c,t,0,r.encoding||Ne.DEFAULT_ENCODING):He.default.isUndefined(t)||ae.default.writeSyncRetry(s)(c,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?ae.default.fsyncSyncRetry(s)(c):ae.default.fsyncAttempt(c)),ae.default.closeSyncRetry(s)(c),c=null,r.chown&&ae.default.chownSyncAttempt(i,r.chown.uid,r.chown.gid),r.mode&&ae.default.chmodSyncAttempt(i,r.mode);try{ae.default.renameSyncRetry(s)(i,e)}catch(p){if(p.code!=="ENAMETOOLONG")throw p;ae.default.renameSyncRetry(s)(i,Ot.default.truncate(e))}a(),i=null}finally{c&&ae.default.closeSyncAttempt(c),i&&Ot.default.purge(i)}};ut.writeFileSync=Xa;var Br={exports:{}},Ba={},We={},er={},Er={},J={},wr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){super();if(!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super();this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((R,C)=>`${R}${C}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((R,C)=>(C instanceof r&&(R[C.str]=(R[C.str]||0)+1),R),{})}}e._Code=n,e.nil=new n("");function s($,...E){const R=[$[0]];let C=0;for(;C<E.length;)c(R,E[C]),R.push($[++C]);return new n(R)}e._=s;const a=new n("+");function i($,...E){const R=[g($[0])];let C=0;for(;C<E.length;)R.push(a),c(R,E[C]),R.push(a,g($[++C]));return o(R),new n(R)}e.str=i;function c($,E){E instanceof n?$.push(...E._items):E instanceof r?$.push(E):$.push(p(E))}e.addCodeArg=c;function o($){let E=1;for(;E<$.length-1;){if($[E]===a){const R=u($[E-1],$[E+1]);if(R!==void 0){$.splice(E-1,3,R);continue}$[E++]="+"}E++}}function u($,E){if(E==='""')return $;if($==='""')return E;if(typeof $=="string")return E instanceof r||$[$.length-1]!=='"'?void 0:typeof E!="string"?`${$.slice(0,-1)}${E}"`:E[0]==='"'?$.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!($ instanceof r))return`"${$}${E.slice(1)}`}function d($,E){return E.emptyStr()?$:$.emptyStr()?E:i`${$}${E}`}e.strConcat=d;function p($){return typeof $=="number"||typeof $=="boolean"||$===null?$:g(Array.isArray($)?$.join(","):$)}function w($){return new n(g($))}e.stringify=w;function g($){return JSON.stringify($).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function b($){return typeof $=="string"&&e.IDENTIFIER.test($)?new n(`.${$}`):s`[${$}]`}e.getProperty=b;function P($){if(typeof $=="string"&&e.IDENTIFIER.test($))return new n(`${$}`);throw new Error(`CodeGen: invalid export name: ${$}, use explicit $id name mapping`)}e.getEsmExportName=P;function _($){return new n($.toString())}e.regexpCode=_})(wr);var Jn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=wr;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`);this.value=u.value}}var n;(function(o){o[o.Started=0]="Started",o[o.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:u,parent:d}={}){this._names={},this._prefixes=u,this._parent=d}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const d=this._names[u]||this._nameGroup(u);return`${u}${d.index++}`}_nameGroup(u){var d,p;if(((p=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||p===void 0?void 0:p.has(u))||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=s;class a extends t.Name{constructor(u,d){super(d);this.prefix=u}setValue(u,{property:d,itemIndex:p}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(d)}[${p}]`}}e.ValueScopeName=a;const i=(0,t._)`\n`;class c extends s{constructor(u){super(u);this._values={},this._scope=u.scope,this.opts=lt(oe({},u),{_n:u.lines?i:t.nil})}get(){return this._scope}name(u){return new a(u,this._newName(u))}value(u,d){var p;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const w=this.toName(u),{prefix:g}=w,b=(p=d.key)!==null&&p!==void 0?p:d.ref;let P=this._values[g];if(P){const E=P.get(b);if(E)return E}else P=this._values[g]=new Map;P.set(b,w);const _=this._scope[g]||(this._scope[g]=[]),$=_.length;return _[$]=d.ref,w.setValue(d,{property:g,itemIndex:$}),w}getValue(u,d){const p=this._values[u];if(!!p)return p.get(d)}scopeRefs(u,d=this._values){return this._reduceValues(d,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,t._)`${u}${p.scopePath}`})}scopeCode(u=this._values,d,p){return this._reduceValues(u,w=>{if(w.value===void 0)throw new Error(`CodeGen: name "${w}" has no value`);return w.value.code},d,p)}_reduceValues(u,d,p={},w){let g=t.nil;for(const b in u){const P=u[b];if(!P)continue;const _=p[b]=p[b]||new Map;P.forEach($=>{if(_.has($))return;_.set($,n.Started);let E=d($);if(E){const R=this.opts.es5?e.varKinds.var:e.varKinds.const;g=(0,t._)`${g}${R} ${$} = ${E};${this.opts._n}`}else if(E=w==null?void 0:w($))g=(0,t._)`${g}${E}${this.opts._n}`;else throw new r($);_.set($,n.Completed)})}return g}}e.ValueScope=c})(Jn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=wr,r=Jn;var n=wr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Jn;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(l,y){return this}}class i extends a{constructor(l,y,j){super();this.varKind=l,this.name=y,this.rhs=j}render({es5:l,_n:y}){const j=l?r.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${j} ${this.name}${V};`+y}optimizeNames(l,y){if(!!l[this.name.str])return this.rhs&&(this.rhs=re(this.rhs,l,y)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class c extends a{constructor(l,y,j){super();this.lhs=l,this.rhs=y,this.sideEffects=j}render({_n:l}){return`${this.lhs} = ${this.rhs};`+l}optimizeNames(l,y){if(!(this.lhs instanceof t.Name&&!l[this.lhs.str]&&!this.sideEffects))return this.rhs=re(this.rhs,l,y),this}get names(){const l=this.lhs instanceof t.Name?{}:oe({},this.lhs.names);return $e(l,this.rhs)}}class o extends c{constructor(l,y,j,V){super(l,j,V);this.op=y}render({_n:l}){return`${this.lhs} ${this.op}= ${this.rhs};`+l}}class u extends a{constructor(l){super();this.label=l,this.names={}}render({_n:l}){return`${this.label}:`+l}}class d extends a{constructor(l){super();this.label=l,this.names={}}render({_n:l}){return`break${this.label?` ${this.label}`:""};`+l}}class p extends a{constructor(l){super();this.error=l}render({_n:l}){return`throw ${this.error};`+l}get names(){return this.error.names}}class w extends a{constructor(l){super();this.code=l}render({_n:l}){return`${this.code};`+l}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(l,y){return this.code=re(this.code,l,y),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class g extends a{constructor(l=[]){super();this.nodes=l}render(l){return this.nodes.reduce((y,j)=>y+j.render(l),"")}optimizeNodes(){const{nodes:l}=this;let y=l.length;for(;y--;){const j=l[y].optimizeNodes();Array.isArray(j)?l.splice(y,1,...j):j?l[y]=j:l.splice(y,1)}return l.length>0?this:void 0}optimizeNames(l,y){const{nodes:j}=this;let V=j.length;for(;V--;){const q=j[V];q.optimizeNames(l,y)||(ke(l,q.names),j.splice(V,1))}return j.length>0?this:void 0}get names(){return this.nodes.reduce((l,y)=>B(l,y.names),{})}}class b extends g{render(l){return"{"+l._n+super.render(l)+"}"+l._n}}class P extends g{}class _ extends b{}_.kind="else";class $ extends b{constructor(l,y){super(y);this.condition=l}render(l){let y=`if(${this.condition})`+super.render(l);return this.else&&(y+="else "+this.else.render(l)),y}optimizeNodes(){super.optimizeNodes();const l=this.condition;if(l===!0)return this.nodes;let y=this.else;if(y){const j=y.optimizeNodes();y=this.else=Array.isArray(j)?new _(j):j}if(y)return l===!1?y instanceof $?y:y.nodes:this.nodes.length?this:new $(xe(l),y instanceof $?[y]:y.nodes);if(!(l===!1||!this.nodes.length))return this}optimizeNames(l,y){var j;if(this.else=(j=this.else)===null||j===void 0?void 0:j.optimizeNames(l,y),!!(super.optimizeNames(l,y)||this.else))return this.condition=re(this.condition,l,y),this}get names(){const l=super.names;return $e(l,this.condition),this.else&&B(l,this.else.names),l}}$.kind="if";class E extends b{}E.kind="for";class R extends E{constructor(l){super();this.iteration=l}render(l){return`for(${this.iteration})`+super.render(l)}optimizeNames(l,y){if(!!super.optimizeNames(l,y))return this.iteration=re(this.iteration,l,y),this}get names(){return B(super.names,this.iteration.names)}}class C extends E{constructor(l,y,j,V){super();this.varKind=l,this.name=y,this.from=j,this.to=V}render(l){const y=l.es5?r.varKinds.var:this.varKind,{name:j,from:V,to:q}=this;return`for(${y} ${j}=${V}; ${j}<${q}; ${j}++)`+super.render(l)}get names(){const l=$e(super.names,this.from);return $e(l,this.to)}}class U extends E{constructor(l,y,j,V){super();this.loop=l,this.varKind=y,this.name=j,this.iterable=V}render(l){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(l)}optimizeNames(l,y){if(!!super.optimizeNames(l,y))return this.iterable=re(this.iterable,l,y),this}get names(){return B(super.names,this.iterable.names)}}class S extends b{constructor(l,y,j){super();this.name=l,this.args=y,this.async=j}render(l){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(l)}}S.kind="func";class I extends g{render(l){return"return "+super.render(l)}}I.kind="return";class M extends b{render(l){let y="try"+super.render(l);return this.catch&&(y+=this.catch.render(l)),this.finally&&(y+=this.finally.render(l)),y}optimizeNodes(){var l,y;return super.optimizeNodes(),(l=this.catch)===null||l===void 0||l.optimizeNodes(),(y=this.finally)===null||y===void 0||y.optimizeNodes(),this}optimizeNames(l,y){var j,V;return super.optimizeNames(l,y),(j=this.catch)===null||j===void 0||j.optimizeNames(l,y),(V=this.finally)===null||V===void 0||V.optimizeNames(l,y),this}get names(){const l=super.names;return this.catch&&B(l,this.catch.names),this.finally&&B(l,this.finally.names),l}}class k extends b{constructor(l){super();this.error=l}render(l){return`catch(${this.error})`+super.render(l)}}k.kind="catch";class z extends b{render(l){return"finally"+super.render(l)}}z.kind="finally";class Y{constructor(l,y={}){this._values={},this._blockStarts=[],this._constants={},this.opts=lt(oe({},y),{_n:y.lines?`
`:""}),this._extScope=l,this._scope=new r.Scope({parent:l}),this._nodes=[new P]}toString(){return this._root.render(this.opts)}name(l){return this._scope.name(l)}scopeName(l){return this._extScope.name(l)}scopeValue(l,y){const j=this._extScope.value(l,y);return(this._values[j.prefix]||(this._values[j.prefix]=new Set)).add(j),j}getScopeValue(l,y){return this._extScope.getValue(l,y)}scopeRefs(l){return this._extScope.scopeRefs(l,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(l,y,j,V){const q=this._scope.toName(y);return j!==void 0&&V&&(this._constants[q.str]=j),this._leafNode(new i(l,q,j)),q}const(l,y,j){return this._def(r.varKinds.const,l,y,j)}let(l,y,j){return this._def(r.varKinds.let,l,y,j)}var(l,y,j){return this._def(r.varKinds.var,l,y,j)}assign(l,y,j){return this._leafNode(new c(l,y,j))}add(l,y){return this._leafNode(new o(l,e.operators.ADD,y))}code(l){return typeof l=="function"?l():l!==t.nil&&this._leafNode(new w(l)),this}object(...l){const y=["{"];for(const[j,V]of l)y.length>1&&y.push(","),y.push(j),(j!==V||this.opts.es5)&&(y.push(":"),(0,t.addCodeArg)(y,V));return y.push("}"),new t._Code(y)}if(l,y,j){if(this._blockNode(new $(l)),y&&j)this.code(y).else().code(j).endIf();else if(y)this.code(y).endIf();else if(j)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(l){return this._elseNode(new $(l))}else(){return this._elseNode(new _)}endIf(){return this._endBlockNode($,_)}_for(l,y){return this._blockNode(l),y&&this.code(y).endFor(),this}for(l,y){return this._for(new R(l),y)}forRange(l,y,j,V,q=this.opts.es5?r.varKinds.var:r.varKinds.let){const K=this._scope.toName(l);return this._for(new C(q,K,y,j),()=>V(K))}forOf(l,y,j,V=r.varKinds.const){const q=this._scope.toName(l);if(this.opts.es5){const K=y instanceof t.Name?y:this.var("_arr",y);return this.forRange("_i",0,(0,t._)`${K}.length`,de=>{this.var(q,(0,t._)`${K}[${de}]`),j(q)})}return this._for(new U("of",V,q,y),()=>j(q))}forIn(l,y,j,V=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(l,(0,t._)`Object.keys(${y})`,j);const q=this._scope.toName(l);return this._for(new U("in",V,q,y),()=>j(q))}endFor(){return this._endBlockNode(E)}label(l){return this._leafNode(new u(l))}break(l){return this._leafNode(new d(l))}return(l){const y=new I;if(this._blockNode(y),this.code(l),y.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(l,y,j){if(!y&&!j)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new M;if(this._blockNode(V),this.code(l),y){const q=this.name("e");this._currNode=V.catch=new k(q),y(q)}return j&&(this._currNode=V.finally=new z,this.code(j)),this._endBlockNode(k,z)}throw(l){return this._leafNode(new p(l))}block(l,y){return this._blockStarts.push(this._nodes.length),l&&this.code(l).endBlock(y),this}endBlock(l){const y=this._blockStarts.pop();if(y===void 0)throw new Error("CodeGen: not in self-balancing block");const j=this._nodes.length-y;if(j<0||l!==void 0&&j!==l)throw new Error(`CodeGen: wrong number of nodes: ${j} vs ${l} expected`);return this._nodes.length=y,this}func(l,y=t.nil,j,V){return this._blockNode(new S(l,y,j)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(l=1){for(;l-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(l){return this._currNode.nodes.push(l),this}_blockNode(l){this._currNode.nodes.push(l),this._nodes.push(l)}_endBlockNode(l,y){const j=this._currNode;if(j instanceof l||y&&j instanceof y)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${y?`${l.kind}/${y.kind}`:l.kind}"`)}_elseNode(l){const y=this._currNode;if(!(y instanceof $))throw new Error('CodeGen: "else" without "if"');return this._currNode=y.else=l,this}get _root(){return this._nodes[0]}get _currNode(){const l=this._nodes;return l[l.length-1]}set _currNode(l){const y=this._nodes;y[y.length-1]=l}}e.CodeGen=Y;function B(A,l){for(const y in l)A[y]=(A[y]||0)+(l[y]||0);return A}function $e(A,l){return l instanceof t._CodeOrName?B(A,l.names):A}function re(A,l,y){if(A instanceof t.Name)return j(A);if(!V(A))return A;return new t._Code(A._items.reduce((q,K)=>(K instanceof t.Name&&(K=j(K)),K instanceof t._Code?q.push(...K._items):q.push(K),q),[]));function j(q){const K=y[q.str];return K===void 0||l[q.str]!==1?q:(delete l[q.str],K)}function V(q){return q instanceof t._Code&&q._items.some(K=>K instanceof t.Name&&l[K.str]===1&&y[K.str]!==void 0)}}function ke(A,l){for(const y in l)A[y]=(A[y]||0)-(l[y]||0)}function xe(A){return typeof A=="boolean"||typeof A=="number"||A===null?!A:(0,t._)`!${L(A)}`}e.not=xe;const me=D(e.operators.AND);function F(...A){return A.reduce(me)}e.and=F;const O=D(e.operators.OR);function h(...A){return A.reduce(O)}e.or=h;function D(A){return(l,y)=>l===t.nil?y:y===t.nil?l:(0,t._)`${L(l)} ${A} ${L(y)}`}function L(A){return A instanceof t.Name?A:(0,t._)`(${A})`}})(J);var te={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=J,r=wr;function n(S){const I={};for(const M of S)I[M]=!0;return I}e.toHash=n;function s(S,I){return typeof I=="boolean"?I:Object.keys(I).length===0?!0:(a(S,I),!i(I,S.self.RULES.all))}e.alwaysValidSchema=s;function a(S,I=S.schema){const{opts:M,self:k}=S;if(!M.strictSchema||typeof I=="boolean")return;const z=k.RULES.keywords;for(const Y in I)z[Y]||U(S,`unknown keyword: "${Y}"`)}e.checkUnknownRules=a;function i(S,I){if(typeof S=="boolean")return!S;for(const M in S)if(I[M])return!0;return!1}e.schemaHasRules=i;function c(S,I){if(typeof S=="boolean")return!S;for(const M in S)if(M!=="$ref"&&I.all[M])return!0;return!1}e.schemaHasRulesButRef=c;function o({topSchemaRef:S,schemaPath:I},M,k,z){if(!z){if(typeof M=="number"||typeof M=="boolean")return M;if(typeof M=="string")return(0,t._)`${M}`}return(0,t._)`${S}${I}${(0,t.getProperty)(k)}`}e.schemaRefOrVal=o;function u(S){return w(decodeURIComponent(S))}e.unescapeFragment=u;function d(S){return encodeURIComponent(p(S))}e.escapeFragment=d;function p(S){return typeof S=="number"?`${S}`:S.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=p;function w(S){return S.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=w;function g(S,I){if(Array.isArray(S))for(const M of S)I(M);else I(S)}e.eachItem=g;function b({mergeNames:S,mergeToName:I,mergeValues:M,resultToName:k}){return(z,Y,B,$e)=>{const re=B===void 0?Y:B instanceof t.Name?(Y instanceof t.Name?S(z,Y,B):I(z,Y,B),B):Y instanceof t.Name?(I(z,B,Y),Y):M(Y,B);return $e===t.Name&&!(re instanceof t.Name)?k(z,re):re}}e.mergeEvaluated={props:b({mergeNames:(S,I,M)=>S.if((0,t._)`${M} !== true && ${I} !== undefined`,()=>{S.if((0,t._)`${I} === true`,()=>S.assign(M,!0),()=>S.assign(M,(0,t._)`${M} || {}`).code((0,t._)`Object.assign(${M}, ${I})`))}),mergeToName:(S,I,M)=>S.if((0,t._)`${M} !== true`,()=>{I===!0?S.assign(M,!0):(S.assign(M,(0,t._)`${M} || {}`),_(S,M,I))}),mergeValues:(S,I)=>S===!0?!0:oe(oe({},S),I),resultToName:P}),items:b({mergeNames:(S,I,M)=>S.if((0,t._)`${M} !== true && ${I} !== undefined`,()=>S.assign(M,(0,t._)`${I} === true ? true : ${M} > ${I} ? ${M} : ${I}`)),mergeToName:(S,I,M)=>S.if((0,t._)`${M} !== true`,()=>S.assign(M,I===!0?!0:(0,t._)`${M} > ${I} ? ${M} : ${I}`)),mergeValues:(S,I)=>S===!0?!0:Math.max(S,I),resultToName:(S,I)=>S.var("items",I)})};function P(S,I){if(I===!0)return S.var("props",!0);const M=S.var("props",(0,t._)`{}`);return I!==void 0&&_(S,M,I),M}e.evaluatedPropsToName=P;function _(S,I,M){Object.keys(M).forEach(k=>S.assign((0,t._)`${I}${(0,t.getProperty)(k)}`,!0))}e.setEvaluated=_;const $={};function E(S,I){return S.scopeValue("func",{ref:I,code:$[I.code]||($[I.code]=new r._Code(I.code))})}e.useFunc=E;var R;(function(S){S[S.Num=0]="Num",S[S.Str=1]="Str"})(R=e.Type||(e.Type={}));function C(S,I,M){if(S instanceof t.Name){const k=I===R.Num;return M?k?(0,t._)`"[" + ${S} + "]"`:(0,t._)`"['" + ${S} + "']"`:k?(0,t._)`"/" + ${S}`:(0,t._)`"/" + ${S}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return M?(0,t.getProperty)(S).toString():"/"+p(S)}e.getErrorPath=C;function U(S,I,M=S.opts.strictSchema){if(!!M){if(I=`strict mode: ${I}`,M===!0)throw new Error(I);S.self.logger.warn(I)}}e.checkStrictMode=U})(te);var ft={};Object.defineProperty(ft,"__esModule",{value:!0});const Re=J,zc={data:new Re.Name("data"),valCxt:new Re.Name("valCxt"),instancePath:new Re.Name("instancePath"),parentData:new Re.Name("parentData"),parentDataProperty:new Re.Name("parentDataProperty"),rootData:new Re.Name("rootData"),dynamicAnchors:new Re.Name("dynamicAnchors"),vErrors:new Re.Name("vErrors"),errors:new Re.Name("errors"),this:new Re.Name("this"),self:new Re.Name("self"),scope:new Re.Name("scope"),json:new Re.Name("json"),jsonPos:new Re.Name("jsonPos"),jsonLen:new Re.Name("jsonLen"),jsonPart:new Re.Name("jsonPart")};ft.default=zc;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=J,r=te,n=ft;e.keywordError={message:({keyword:_})=>(0,t.str)`must pass "${_}" keyword validation`},e.keyword$DataError={message:({keyword:_,schemaType:$})=>$?(0,t.str)`"${_}" keyword must be ${$} ($data)`:(0,t.str)`"${_}" keyword is invalid ($data)`};function s(_,$=e.keywordError,E,R){const{it:C}=_,{gen:U,compositeRule:S,allErrors:I}=C,M=p(_,$,E);(R!=null?R:S||I)?o(U,M):u(C,(0,t._)`[${M}]`)}e.reportError=s;function a(_,$=e.keywordError,E){const{it:R}=_,{gen:C,compositeRule:U,allErrors:S}=R,I=p(_,$,E);o(C,I),U||S||u(R,n.default.vErrors)}e.reportExtraError=a;function i(_,$){_.assign(n.default.errors,$),_.if((0,t._)`${n.default.vErrors} !== null`,()=>_.if($,()=>_.assign((0,t._)`${n.default.vErrors}.length`,$),()=>_.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function c({gen:_,keyword:$,schemaValue:E,data:R,errsCount:C,it:U}){if(C===void 0)throw new Error("ajv implementation error");const S=_.name("err");_.forRange("i",C,n.default.errors,I=>{_.const(S,(0,t._)`${n.default.vErrors}[${I}]`),_.if((0,t._)`${S}.instancePath === undefined`,()=>_.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(n.default.instancePath,U.errorPath))),_.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${U.errSchemaPath}/${$}`),U.opts.verbose&&(_.assign((0,t._)`${S}.schema`,E),_.assign((0,t._)`${S}.data`,R))})}e.extendErrors=c;function o(_,$){const E=_.const("err",$);_.if((0,t._)`${n.default.vErrors} === null`,()=>_.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),_.code((0,t._)`${n.default.errors}++`)}function u(_,$){const{gen:E,validateName:R,schemaEnv:C}=_;C.$async?E.throw((0,t._)`new ${_.ValidationError}(${$})`):(E.assign((0,t._)`${R}.errors`,$),E.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function p(_,$,E){const{createErrors:R}=_.it;return R===!1?(0,t._)`{}`:w(_,$,E)}function w(_,$,E={}){const{gen:R,it:C}=_,U=[g(C,E),b(_,E)];return P(_,$,U),R.object(...U)}function g({errorPath:_},{instancePath:$}){const E=$?(0,t.str)`${_}${(0,r.getErrorPath)($,r.Type.Str)}`:_;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function b({keyword:_,it:{errSchemaPath:$}},{schemaPath:E,parentSchema:R}){let C=R?$:(0,t.str)`${$}/${_}`;return E&&(C=(0,t.str)`${C}${(0,r.getErrorPath)(E,r.Type.Str)}`),[d.schemaPath,C]}function P(_,{params:$,message:E},R){const{keyword:C,data:U,schemaValue:S,it:I}=_,{opts:M,propertyName:k,topSchemaRef:z,schemaPath:Y}=I;R.push([d.keyword,C],[d.params,typeof $=="function"?$(_):$||(0,t._)`{}`]),M.messages&&R.push([d.message,typeof E=="function"?E(_):E]),M.verbose&&R.push([d.schema,S],[d.parentSchema,(0,t._)`${z}${Y}`],[n.default.data,U]),k&&R.push([d.propertyName,k])}})(Er);Object.defineProperty(er,"__esModule",{value:!0});er.boolOrEmptySchema=er.topBoolOrEmptySchema=void 0;const qc=Er,Gc=J,Kc=ft,Hc={message:"boolean schema is false"};function Xc(e){const{gen:t,schema:r,validateName:n}=e;r===!1?xa(e,!1):typeof r=="object"&&r.$async===!0?t.return(Kc.default.data):(t.assign((0,Gc._)`${n}.errors`,null),t.return(!0))}er.topBoolOrEmptySchema=Xc;function Bc(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),xa(e)):r.var(t,!0)}er.boolOrEmptySchema=Bc;function xa(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,qc.reportError)(s,Hc,void 0,t)}var Sr={},Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.getRules=Ft.isJSONType=void 0;const xc=["string","number","integer","boolean","null","object","array"],Wc=new Set(xc);function Yc(e){return typeof e=="string"&&Wc.has(e)}Ft.isJSONType=Yc;function Jc(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:lt(oe({},e),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Ft.getRules=Jc;var yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.shouldUseRule=yt.shouldUseGroup=yt.schemaHasRulesForType=void 0;function Qc({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Wa(e,n)}yt.schemaHasRulesForType=Qc;function Wa(e,t){return t.rules.some(r=>Ya(e,r))}yt.shouldUseGroup=Wa;function Ya(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}yt.shouldUseRule=Ya;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Ft,r=yt,n=Er,s=J,a=te;var i;(function(R){R[R.Correct=0]="Correct",R[R.Wrong=1]="Wrong"})(i=e.DataType||(e.DataType={}));function c(R){const C=o(R.type);if(C.includes("null")){if(R.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!C.length&&R.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');R.nullable===!0&&C.push("null")}return C}e.getSchemaTypes=c;function o(R){const C=Array.isArray(R)?R:R?[R]:[];if(C.every(t.isJSONType))return C;throw new Error("type must be JSONType or JSONType[]: "+C.join(","))}e.getJSONTypes=o;function u(R,C){const{gen:U,data:S,opts:I}=R,M=p(C,I.coerceTypes),k=C.length>0&&!(M.length===0&&C.length===1&&(0,r.schemaHasRulesForType)(R,C[0]));if(k){const z=P(C,S,I.strictNumbers,i.Wrong);U.if(z,()=>{M.length?w(R,C,M):$(R)})}return k}e.coerceAndCheckDataType=u;const d=new Set(["string","number","integer","boolean","null"]);function p(R,C){return C?R.filter(U=>d.has(U)||C==="array"&&U==="array"):[]}function w(R,C,U){const{gen:S,data:I,opts:M}=R,k=S.let("dataType",(0,s._)`typeof ${I}`),z=S.let("coerced",(0,s._)`undefined`);M.coerceTypes==="array"&&S.if((0,s._)`${k} == 'object' && Array.isArray(${I}) && ${I}.length == 1`,()=>S.assign(I,(0,s._)`${I}[0]`).assign(k,(0,s._)`typeof ${I}`).if(P(C,I,M.strictNumbers),()=>S.assign(z,I))),S.if((0,s._)`${z} !== undefined`);for(const B of U)(d.has(B)||B==="array"&&M.coerceTypes==="array")&&Y(B);S.else(),$(R),S.endIf(),S.if((0,s._)`${z} !== undefined`,()=>{S.assign(I,z),g(R,z)});function Y(B){switch(B){case"string":S.elseIf((0,s._)`${k} == "number" || ${k} == "boolean"`).assign(z,(0,s._)`"" + ${I}`).elseIf((0,s._)`${I} === null`).assign(z,(0,s._)`""`);return;case"number":S.elseIf((0,s._)`${k} == "boolean" || ${I} === null
              || (${k} == "string" && ${I} && ${I} == +${I})`).assign(z,(0,s._)`+${I}`);return;case"integer":S.elseIf((0,s._)`${k} === "boolean" || ${I} === null
              || (${k} === "string" && ${I} && ${I} == +${I} && !(${I} % 1))`).assign(z,(0,s._)`+${I}`);return;case"boolean":S.elseIf((0,s._)`${I} === "false" || ${I} === 0 || ${I} === null`).assign(z,!1).elseIf((0,s._)`${I} === "true" || ${I} === 1`).assign(z,!0);return;case"null":S.elseIf((0,s._)`${I} === "" || ${I} === 0 || ${I} === false`),S.assign(z,null);return;case"array":S.elseIf((0,s._)`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${I} === null`).assign(z,(0,s._)`[${I}]`)}}}function g({gen:R,parentData:C,parentDataProperty:U},S){R.if((0,s._)`${C} !== undefined`,()=>R.assign((0,s._)`${C}[${U}]`,S))}function b(R,C,U,S=i.Correct){const I=S===i.Correct?s.operators.EQ:s.operators.NEQ;let M;switch(R){case"null":return(0,s._)`${C} ${I} null`;case"array":M=(0,s._)`Array.isArray(${C})`;break;case"object":M=(0,s._)`${C} && typeof ${C} == "object" && !Array.isArray(${C})`;break;case"integer":M=k((0,s._)`!(${C} % 1) && !isNaN(${C})`);break;case"number":M=k();break;default:return(0,s._)`typeof ${C} ${I} ${R}`}return S===i.Correct?M:(0,s.not)(M);function k(z=s.nil){return(0,s.and)((0,s._)`typeof ${C} == "number"`,z,U?(0,s._)`isFinite(${C})`:s.nil)}}e.checkDataType=b;function P(R,C,U,S){if(R.length===1)return b(R[0],C,U,S);let I;const M=(0,a.toHash)(R);if(M.array&&M.object){const k=(0,s._)`typeof ${C} != "object"`;I=M.null?k:(0,s._)`!${C} || ${k}`,delete M.null,delete M.array,delete M.object}else I=s.nil;M.number&&delete M.integer;for(const k in M)I=(0,s.and)(I,b(k,C,U,S));return I}e.checkDataTypes=P;const _={message:({schema:R})=>`must be ${R}`,params:({schema:R,schemaValue:C})=>typeof R=="string"?(0,s._)`{type: ${R}}`:(0,s._)`{type: ${C}}`};function $(R){const C=E(R);(0,n.reportError)(C,_)}e.reportTypeError=$;function E(R){const{gen:C,data:U,schema:S}=R,I=(0,a.schemaRefOrVal)(R,S,"type");return{gen:C,keyword:"type",data:U,schema:S.type,schemaCode:I,schemaValue:I,parentSchema:S,params:{},it:R}}})(Sr);var xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.assignDefaults=void 0;const tr=J,Zc=te;function el(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)Ja(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>Ja(e,a,s.default))}xr.assignDefaults=el;function Ja(e,t,r){const{gen:n,compositeRule:s,data:a,opts:i}=e;if(r===void 0)return;const c=(0,tr._)`${a}${(0,tr.getProperty)(t)}`;if(s){(0,Zc.checkStrictMode)(e,`default is ignored for: ${c}`);return}let o=(0,tr._)`${c} === undefined`;i.useDefaults==="empty"&&(o=(0,tr._)`${o} || ${c} === null || ${c} === ""`),n.if(o,(0,tr._)`${c} = ${(0,tr.stringify)(r)}`)}var dt={},Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.validateUnion=Q.validateArray=Q.usePattern=Q.callValidateCode=Q.schemaProperties=Q.allSchemaProperties=Q.noPropertyInData=Q.propertyInData=Q.isOwnProperty=Q.hasPropFunc=Q.reportMissingProp=Q.checkMissingProp=Q.checkReportMissingProp=void 0;const fe=J,Qn=te,Nt=ft,tl=te;function rl(e,t){const{gen:r,data:n,it:s}=e;r.if(es(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,fe._)`${t}`},!0),e.error()})}Q.checkReportMissingProp=rl;function nl({gen:e,data:t,it:{opts:r}},n,s){return(0,fe.or)(...n.map(a=>(0,fe.and)(es(e,t,a,r.ownProperties),(0,fe._)`${s} = ${a}`)))}Q.checkMissingProp=nl;function sl(e,t){e.setParams({missingProperty:t},!0),e.error()}Q.reportMissingProp=sl;function Qa(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,fe._)`Object.prototype.hasOwnProperty`})}Q.hasPropFunc=Qa;function Zn(e,t,r){return(0,fe._)`${Qa(e)}.call(${t}, ${r})`}Q.isOwnProperty=Zn;function al(e,t,r,n){const s=(0,fe._)`${t}${(0,fe.getProperty)(r)} !== undefined`;return n?(0,fe._)`${s} && ${Zn(e,t,r)}`:s}Q.propertyInData=al;function es(e,t,r,n){const s=(0,fe._)`${t}${(0,fe.getProperty)(r)} === undefined`;return n?(0,fe.or)(s,(0,fe.not)(Zn(e,t,r))):s}Q.noPropertyInData=es;function Za(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Q.allSchemaProperties=Za;function il(e,t){return Za(t).filter(r=>!(0,Qn.alwaysValidSchema)(e,t[r]))}Q.schemaProperties=il;function ol({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:i},c,o,u){const d=u?(0,fe._)`${e}, ${t}, ${n}${s}`:t,p=[[Nt.default.instancePath,(0,fe.strConcat)(Nt.default.instancePath,a)],[Nt.default.parentData,i.parentData],[Nt.default.parentDataProperty,i.parentDataProperty],[Nt.default.rootData,Nt.default.rootData]];i.opts.dynamicRef&&p.push([Nt.default.dynamicAnchors,Nt.default.dynamicAnchors]);const w=(0,fe._)`${d}, ${r.object(...p)}`;return o!==fe.nil?(0,fe._)`${c}.call(${o}, ${w})`:(0,fe._)`${c}(${w})`}Q.callValidateCode=ol;const cl=(0,fe._)`new RegExp`;function ll({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,fe._)`${s.code==="new RegExp"?cl:(0,tl.useFunc)(e,s)}(${r}, ${n})`})}Q.usePattern=ll;function ul(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const c=t.let("valid",!0);return i(()=>t.assign(c,!1)),c}return t.var(a,!0),i(()=>t.break()),a;function i(c){const o=t.const("len",(0,fe._)`${r}.length`);t.forRange("i",0,o,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:Qn.Type.Num},a),t.if((0,fe.not)(a),c)})}}Q.validateArray=ul;function fl(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(o=>(0,Qn.alwaysValidSchema)(s,o))&&!s.opts.unevaluated)return;const i=t.let("valid",!1),c=t.name("_valid");t.block(()=>r.forEach((o,u)=>{const d=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},c);t.assign(i,(0,fe._)`${i} || ${c}`),e.mergeValidEvaluated(d,c)||t.if((0,fe.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}Q.validateUnion=fl;Object.defineProperty(dt,"__esModule",{value:!0});dt.validateKeywordUsage=dt.validSchemaType=dt.funcKeywordCode=dt.macroKeywordCode=void 0;const je=J,Mt=ft,dl=Q,hl=Er;function pl(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:i}=e,c=t.macro.call(i.self,s,a,i),o=ti(r,n,c);i.opts.validateSchema!==!1&&i.self.validateSchema(c,!0);const u=r.name("valid");e.subschema({schema:c,schemaPath:je.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:o,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}dt.macroKeywordCode=pl;function ml(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:i,$data:c,it:o}=e;$l(o,t);const u=!c&&t.compile?t.compile.call(o.self,a,i,o):t.validate,d=ti(n,s,u),p=n.let("valid");e.block$data(p,w),e.ok((r=t.valid)!==null&&r!==void 0?r:p);function w(){if(t.errors===!1)P(),t.modifying&&ei(e),_(()=>e.error());else{const $=t.async?g():b();t.modifying&&ei(e),_(()=>yl(e,$))}}function g(){const $=n.let("ruleErrs",null);return n.try(()=>P((0,je._)`await `),E=>n.assign(p,!1).if((0,je._)`${E} instanceof ${o.ValidationError}`,()=>n.assign($,(0,je._)`${E}.errors`),()=>n.throw(E))),$}function b(){const $=(0,je._)`${d}.errors`;return n.assign($,null),P(je.nil),$}function P($=t.async?(0,je._)`await `:je.nil){const E=o.opts.passContext?Mt.default.this:Mt.default.self,R=!("compile"in t&&!c||t.schema===!1);n.assign(p,(0,je._)`${$}${(0,dl.callValidateCode)(e,d,E,R)}`,t.modifying)}function _($){var E;n.if((0,je.not)((E=t.valid)!==null&&E!==void 0?E:p),$)}}dt.funcKeywordCode=ml;function ei(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,je._)`${n.parentData}[${n.parentDataProperty}]`))}function yl(e,t){const{gen:r}=e;r.if((0,je._)`Array.isArray(${t})`,()=>{r.assign(Mt.default.vErrors,(0,je._)`${Mt.default.vErrors} === null ? ${t} : ${Mt.default.vErrors}.concat(${t})`).assign(Mt.default.errors,(0,je._)`${Mt.default.vErrors}.length`),(0,hl.extendErrors)(e)},()=>e.error())}function $l({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function ti(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,je.stringify)(r)})}function vl(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e=="undefined")}dt.validSchemaType=vl;function gl({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const i=s.dependencies;if(i==null?void 0:i.some(c=>!Object.prototype.hasOwnProperty.call(e,c)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const o=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(o);else throw new Error(o)}}dt.validateKeywordUsage=gl;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.extendSubschemaMode=Pt.extendSubschemaData=Pt.getSubschema=void 0;const ht=J,ri=te;function _l(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const c=e.schema[t];return r===void 0?{schema:c,schemaPath:(0,ht._)`${e.schemaPath}${(0,ht.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:c[r],schemaPath:(0,ht._)`${e.schemaPath}${(0,ht.getProperty)(t)}${(0,ht.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,ri.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Pt.getSubschema=_l;function El(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(r!==void 0){const{errorPath:u,dataPathArr:d,opts:p}=t,w=c.let("data",(0,ht._)`${t.data}${(0,ht.getProperty)(r)}`,!0);o(w),e.errorPath=(0,ht.str)`${u}${(0,ri.getErrorPath)(r,n,p.jsPropertySyntax)}`,e.parentDataProperty=(0,ht._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(s!==void 0){const u=s instanceof ht.Name?s:c.let("data",s,!0);o(u),i!==void 0&&(e.propertyName=i)}a&&(e.dataTypes=a);function o(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}Pt.extendSubschemaData=El;function wl(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}Pt.extendSubschemaMode=wl;var Pe={},ni=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!=0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!=0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!=0;){var i=a[s];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r},si={exports:{}},Tt=si.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Wr(t,n,s,e,"",e)};Tt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Tt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Tt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Tt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Wr(e,t,r,n,s,a,i,c,o,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,i,c,o,u);for(var d in n){var p=n[d];if(Array.isArray(p)){if(d in Tt.arrayKeywords)for(var w=0;w<p.length;w++)Wr(e,t,r,p[w],s+"/"+d+"/"+w,a,s,d,n,w)}else if(d in Tt.propsKeywords){if(p&&typeof p=="object")for(var g in p)Wr(e,t,r,p[g],s+"/"+d+"/"+Sl(g),a,s,d,n,g)}else(d in Tt.keywords||e.allKeys&&!(d in Tt.skipKeywords))&&Wr(e,t,r,p,s+"/"+d,a,s,d,n)}r(n,s,a,i,c,o,u)}}function Sl(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Yr={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(_r,function(r){function n(){for(var m=arguments.length,f=Array(m),v=0;v<m;v++)f[v]=arguments[v];if(f.length>1){f[0]=f[0].slice(0,-1);for(var T=f.length-1,N=1;N<T;++N)f[N]=f[N].slice(1,-1);return f[T]=f[T].slice(1),f.join("")}else return f[0]}function s(m){return"(?:"+m+")"}function a(m){return m===void 0?"undefined":m===null?"null":Object.prototype.toString.call(m).split(" ").pop().split("]").shift().toLowerCase()}function i(m){return m.toUpperCase()}function c(m){return m!=null?m instanceof Array?m:typeof m.length!="number"||m.split||m.setInterval||m.call?[m]:Array.prototype.slice.call(m):[]}function o(m,f){var v=m;if(f)for(var T in f)v[T]=f[T];return v}function u(m){var f="[A-Za-z]",v="[0-9]",T=n(v,"[A-Fa-f]"),N=s(s("%[EFef]"+T+"%"+T+T+"%"+T+T)+"|"+s("%[89A-Fa-f]"+T+"%"+T+T)+"|"+s("%"+T+T)),H="[\\:\\/\\?\\#\\[\\]\\@]",X="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ee=n(H,X),ue=m?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ve=m?"[\\uE000-\\uF8FF]":"[]",Z=n(f,v,"[\\-\\.\\_\\~]",ue);s(f+n(f,v,"[\\+\\-\\.]")+"*"),s(s(N+"|"+n(Z,X,"[\\:]"))+"*");var ce=s(s("25[0-5]")+"|"+s("2[0-4]"+v)+"|"+s("1"+v+v)+"|"+s("0?[1-9]"+v)+"|0?0?"+v),ge=s(ce+"\\."+ce+"\\."+ce+"\\."+ce),W=s(T+"{1,4}"),he=s(s(W+"\\:"+W)+"|"+ge),we=s(s(W+"\\:")+"{6}"+he),pe=s("\\:\\:"+s(W+"\\:")+"{5}"+he),Et=s(s(W)+"?\\:\\:"+s(W+"\\:")+"{4}"+he),it=s(s(s(W+"\\:")+"{0,1}"+W)+"?\\:\\:"+s(W+"\\:")+"{3}"+he),ot=s(s(s(W+"\\:")+"{0,2}"+W)+"?\\:\\:"+s(W+"\\:")+"{2}"+he),Yt=s(s(s(W+"\\:")+"{0,3}"+W)+"?\\:\\:"+W+"\\:"+he),Ct=s(s(s(W+"\\:")+"{0,4}"+W)+"?\\:\\:"+he),Xe=s(s(s(W+"\\:")+"{0,5}"+W)+"?\\:\\:"+W),ct=s(s(s(W+"\\:")+"{0,6}"+W)+"?\\:\\:"),Dt=s([we,pe,Et,it,ot,Yt,Ct,Xe,ct].join("|")),mt=s(s(Z+"|"+N)+"+");s("[vV]"+T+"+\\."+n(Z,X,"[\\:]")+"+"),s(s(N+"|"+n(Z,X))+"*");var vr=s(N+"|"+n(Z,X,"[\\:\\@]"));return s(s(N+"|"+n(Z,X,"[\\@]"))+"+"),s(s(vr+"|"+n("[\\/\\?]",ve))+"*"),{NOT_SCHEME:new RegExp(n("[^]",f,v,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Z,X),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Z,X),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Z,X),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Z,X),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Z,X,"[\\:\\@\\/\\?]",ve),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Z,X,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Z,X),"g"),UNRESERVED:new RegExp(Z,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Z,ee),"g"),PCT_ENCODED:new RegExp(N,"g"),IPV4ADDRESS:new RegExp("^("+ge+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Dt+")"+s(s("\\%25|\\%(?!"+T+"{2})")+"("+mt+")")+"?\\]?$")}}var d=u(!1),p=u(!0),w=function(){function m(f,v){var T=[],N=!0,H=!1,X=void 0;try{for(var ee=f[Symbol.iterator](),ue;!(N=(ue=ee.next()).done)&&(T.push(ue.value),!(v&&T.length===v));N=!0);}catch(ve){H=!0,X=ve}finally{try{!N&&ee.return&&ee.return()}finally{if(H)throw X}}return T}return function(f,v){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f))return m(f,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(m){if(Array.isArray(m)){for(var f=0,v=Array(m.length);f<m.length;f++)v[f]=m[f];return v}else return Array.from(m)},b=2147483647,P=36,_=1,$=26,E=38,R=700,C=72,U=128,S="-",I=/^xn--/,M=/[^\0-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Y=P-_,B=Math.floor,$e=String.fromCharCode;function re(m){throw new RangeError(z[m])}function ke(m,f){for(var v=[],T=m.length;T--;)v[T]=f(m[T]);return v}function xe(m,f){var v=m.split("@"),T="";v.length>1&&(T=v[0]+"@",m=v[1]),m=m.replace(k,".");var N=m.split("."),H=ke(N,f).join(".");return T+H}function me(m){for(var f=[],v=0,T=m.length;v<T;){var N=m.charCodeAt(v++);if(N>=55296&&N<=56319&&v<T){var H=m.charCodeAt(v++);(H&64512)==56320?f.push(((N&1023)<<10)+(H&1023)+65536):(f.push(N),v--)}else f.push(N)}return f}var F=function(f){return String.fromCodePoint.apply(String,g(f))},O=function(f){return f-48<10?f-22:f-65<26?f-65:f-97<26?f-97:P},h=function(f,v){return f+22+75*(f<26)-((v!=0)<<5)},D=function(f,v,T){var N=0;for(f=T?B(f/R):f>>1,f+=B(f/v);f>Y*$>>1;N+=P)f=B(f/Y);return B(N+(Y+1)*f/(f+E))},L=function(f){var v=[],T=f.length,N=0,H=U,X=C,ee=f.lastIndexOf(S);ee<0&&(ee=0);for(var ue=0;ue<ee;++ue)f.charCodeAt(ue)>=128&&re("not-basic"),v.push(f.charCodeAt(ue));for(var ve=ee>0?ee+1:0;ve<T;){for(var Z=N,ce=1,ge=P;;ge+=P){ve>=T&&re("invalid-input");var W=O(f.charCodeAt(ve++));(W>=P||W>B((b-N)/ce))&&re("overflow"),N+=W*ce;var he=ge<=X?_:ge>=X+$?$:ge-X;if(W<he)break;var we=P-he;ce>B(b/we)&&re("overflow"),ce*=we}var pe=v.length+1;X=D(N-Z,pe,Z==0),B(N/pe)>b-H&&re("overflow"),H+=B(N/pe),N%=pe,v.splice(N++,0,H)}return String.fromCodePoint.apply(String,v)},A=function(f){var v=[];f=me(f);var T=f.length,N=U,H=0,X=C,ee=!0,ue=!1,ve=void 0;try{for(var Z=f[Symbol.iterator](),ce;!(ee=(ce=Z.next()).done);ee=!0){var ge=ce.value;ge<128&&v.push($e(ge))}}catch(gr){ue=!0,ve=gr}finally{try{!ee&&Z.return&&Z.return()}finally{if(ue)throw ve}}var W=v.length,he=W;for(W&&v.push(S);he<T;){var we=b,pe=!0,Et=!1,it=void 0;try{for(var ot=f[Symbol.iterator](),Yt;!(pe=(Yt=ot.next()).done);pe=!0){var Ct=Yt.value;Ct>=N&&Ct<we&&(we=Ct)}}catch(gr){Et=!0,it=gr}finally{try{!pe&&ot.return&&ot.return()}finally{if(Et)throw it}}var Xe=he+1;we-N>B((b-H)/Xe)&&re("overflow"),H+=(we-N)*Xe,N=we;var ct=!0,Dt=!1,mt=void 0;try{for(var vr=f[Symbol.iterator](),va;!(ct=(va=vr.next()).done);ct=!0){var ga=va.value;if(ga<N&&++H>b&&re("overflow"),ga==N){for(var zr=H,qr=P;;qr+=P){var Gr=qr<=X?_:qr>=X+$?$:qr-X;if(zr<Gr)break;var _a=zr-Gr,Ea=P-Gr;v.push($e(h(Gr+_a%Ea,0))),zr=B(_a/Ea)}v.push($e(h(zr,0))),X=D(H,Xe,he==W),H=0,++he}}}catch(gr){Dt=!0,mt=gr}finally{try{!ct&&vr.return&&vr.return()}finally{if(Dt)throw mt}}++H,++N}return v.join("")},l=function(f){return xe(f,function(v){return I.test(v)?L(v.slice(4).toLowerCase()):v})},y=function(f){return xe(f,function(v){return M.test(v)?"xn--"+A(v):v})},j={version:"2.1.0",ucs2:{decode:me,encode:F},decode:L,encode:A,toASCII:y,toUnicode:l},V={};function q(m){var f=m.charCodeAt(0),v=void 0;return f<16?v="%0"+f.toString(16).toUpperCase():f<128?v="%"+f.toString(16).toUpperCase():f<2048?v="%"+(f>>6|192).toString(16).toUpperCase()+"%"+(f&63|128).toString(16).toUpperCase():v="%"+(f>>12|224).toString(16).toUpperCase()+"%"+(f>>6&63|128).toString(16).toUpperCase()+"%"+(f&63|128).toString(16).toUpperCase(),v}function K(m){for(var f="",v=0,T=m.length;v<T;){var N=parseInt(m.substr(v+1,2),16);if(N<128)f+=String.fromCharCode(N),v+=3;else if(N>=194&&N<224){if(T-v>=6){var H=parseInt(m.substr(v+4,2),16);f+=String.fromCharCode((N&31)<<6|H&63)}else f+=m.substr(v,6);v+=6}else if(N>=224){if(T-v>=9){var X=parseInt(m.substr(v+4,2),16),ee=parseInt(m.substr(v+7,2),16);f+=String.fromCharCode((N&15)<<12|(X&63)<<6|ee&63)}else f+=m.substr(v,9);v+=9}else f+=m.substr(v,3),v+=3}return f}function de(m,f){function v(T){var N=K(T);return N.match(f.UNRESERVED)?N:T}return m.scheme&&(m.scheme=String(m.scheme).replace(f.PCT_ENCODED,v).toLowerCase().replace(f.NOT_SCHEME,"")),m.userinfo!==void 0&&(m.userinfo=String(m.userinfo).replace(f.PCT_ENCODED,v).replace(f.NOT_USERINFO,q).replace(f.PCT_ENCODED,i)),m.host!==void 0&&(m.host=String(m.host).replace(f.PCT_ENCODED,v).toLowerCase().replace(f.NOT_HOST,q).replace(f.PCT_ENCODED,i)),m.path!==void 0&&(m.path=String(m.path).replace(f.PCT_ENCODED,v).replace(m.scheme?f.NOT_PATH:f.NOT_PATH_NOSCHEME,q).replace(f.PCT_ENCODED,i)),m.query!==void 0&&(m.query=String(m.query).replace(f.PCT_ENCODED,v).replace(f.NOT_QUERY,q).replace(f.PCT_ENCODED,i)),m.fragment!==void 0&&(m.fragment=String(m.fragment).replace(f.PCT_ENCODED,v).replace(f.NOT_FRAGMENT,q).replace(f.PCT_ENCODED,i)),m}function nt(m){return m.replace(/^0*(.*)/,"$1")||"0"}function At(m,f){var v=m.match(f.IPV4ADDRESS)||[],T=w(v,2),N=T[1];return N?N.split(".").map(nt).join("."):m}function Ht(m,f){var v=m.match(f.IPV6ADDRESS)||[],T=w(v,3),N=T[1],H=T[2];if(N){for(var X=N.toLowerCase().split("::").reverse(),ee=w(X,2),ue=ee[0],ve=ee[1],Z=ve?ve.split(":").map(nt):[],ce=ue.split(":").map(nt),ge=f.IPV4ADDRESS.test(ce[ce.length-1]),W=ge?7:8,he=ce.length-W,we=Array(W),pe=0;pe<W;++pe)we[pe]=Z[pe]||ce[he+pe]||"";ge&&(we[W-1]=At(we[W-1],f));var Et=we.reduce(function(Xe,ct,Dt){if(!ct||ct==="0"){var mt=Xe[Xe.length-1];mt&&mt.index+mt.length===Dt?mt.length++:Xe.push({index:Dt,length:1})}return Xe},[]),it=Et.sort(function(Xe,ct){return ct.length-Xe.length})[0],ot=void 0;if(it&&it.length>1){var Yt=we.slice(0,it.index),Ct=we.slice(it.index+it.length);ot=Yt.join(":")+"::"+Ct.join(":")}else ot=we.join(":");return H&&(ot+="%"+H),ot}else return m}var fr=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,dr="".match(/(){0}/)[1]===void 0;function Ge(m){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v={},T=f.iri!==!1?p:d;f.reference==="suffix"&&(m=(f.scheme?f.scheme+":":"")+"//"+m);var N=m.match(fr);if(N){dr?(v.scheme=N[1],v.userinfo=N[3],v.host=N[4],v.port=parseInt(N[5],10),v.path=N[6]||"",v.query=N[7],v.fragment=N[8],isNaN(v.port)&&(v.port=N[5])):(v.scheme=N[1]||void 0,v.userinfo=m.indexOf("@")!==-1?N[3]:void 0,v.host=m.indexOf("//")!==-1?N[4]:void 0,v.port=parseInt(N[5],10),v.path=N[6]||"",v.query=m.indexOf("?")!==-1?N[7]:void 0,v.fragment=m.indexOf("#")!==-1?N[8]:void 0,isNaN(v.port)&&(v.port=m.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?N[4]:void 0)),v.host&&(v.host=Ht(At(v.host,T),T)),v.scheme===void 0&&v.userinfo===void 0&&v.host===void 0&&v.port===void 0&&!v.path&&v.query===void 0?v.reference="same-document":v.scheme===void 0?v.reference="relative":v.fragment===void 0?v.reference="absolute":v.reference="uri",f.reference&&f.reference!=="suffix"&&f.reference!==v.reference&&(v.error=v.error||"URI is not a "+f.reference+" reference.");var H=V[(f.scheme||v.scheme||"").toLowerCase()];if(!f.unicodeSupport&&(!H||!H.unicodeSupport)){if(v.host&&(f.domainHost||H&&H.domainHost))try{v.host=j.toASCII(v.host.replace(T.PCT_ENCODED,K).toLowerCase())}catch(X){v.error=v.error||"Host's domain name can not be converted to ASCII via punycode: "+X}de(v,d)}else de(v,T);H&&H.parse&&H.parse(v,f)}else v.error=v.error||"URI can not be parsed.";return v}function hr(m,f){var v=f.iri!==!1?p:d,T=[];return m.userinfo!==void 0&&(T.push(m.userinfo),T.push("@")),m.host!==void 0&&T.push(Ht(At(String(m.host),v),v).replace(v.IPV6ADDRESS,function(N,H,X){return"["+H+(X?"%25"+X:"")+"]"})),(typeof m.port=="number"||typeof m.port=="string")&&(T.push(":"),T.push(String(m.port))),T.length?T.join(""):void 0}var Xt=/^\.\.?\//,Bt=/^\/\.(\/|$)/,xt=/^\/\.\.(\/|$)/,pr=/^\/?(?:.|\n)*?(?=\/|$)/;function st(m){for(var f=[];m.length;)if(m.match(Xt))m=m.replace(Xt,"");else if(m.match(Bt))m=m.replace(Bt,"/");else if(m.match(xt))m=m.replace(xt,"/"),f.pop();else if(m==="."||m==="..")m="";else{var v=m.match(pr);if(v){var T=v[0];m=m.slice(T.length),f.push(T)}else throw new Error("Unexpected dot segment condition")}return f.join("")}function Ue(m){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=f.iri?p:d,T=[],N=V[(f.scheme||m.scheme||"").toLowerCase()];if(N&&N.serialize&&N.serialize(m,f),m.host&&!v.IPV6ADDRESS.test(m.host)){if(f.domainHost||N&&N.domainHost)try{m.host=f.iri?j.toUnicode(m.host):j.toASCII(m.host.replace(v.PCT_ENCODED,K).toLowerCase())}catch(ee){m.error=m.error||"Host's domain name can not be converted to "+(f.iri?"Unicode":"ASCII")+" via punycode: "+ee}}de(m,v),f.reference!=="suffix"&&m.scheme&&(T.push(m.scheme),T.push(":"));var H=hr(m,f);if(H!==void 0&&(f.reference!=="suffix"&&T.push("//"),T.push(H),m.path&&m.path.charAt(0)!=="/"&&T.push("/")),m.path!==void 0){var X=m.path;!f.absolutePath&&(!N||!N.absolutePath)&&(X=st(X)),H===void 0&&(X=X.replace(/^\/\//,"/%2F")),T.push(X)}return m.query!==void 0&&(T.push("?"),T.push(m.query)),m.fragment!==void 0&&(T.push("#"),T.push(m.fragment)),T.join("")}function _t(m,f){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments[3],N={};return T||(m=Ge(Ue(m,v),v),f=Ge(Ue(f,v),v)),v=v||{},!v.tolerant&&f.scheme?(N.scheme=f.scheme,N.userinfo=f.userinfo,N.host=f.host,N.port=f.port,N.path=st(f.path||""),N.query=f.query):(f.userinfo!==void 0||f.host!==void 0||f.port!==void 0?(N.userinfo=f.userinfo,N.host=f.host,N.port=f.port,N.path=st(f.path||""),N.query=f.query):(f.path?(f.path.charAt(0)==="/"?N.path=st(f.path):((m.userinfo!==void 0||m.host!==void 0||m.port!==void 0)&&!m.path?N.path="/"+f.path:m.path?N.path=m.path.slice(0,m.path.lastIndexOf("/")+1)+f.path:N.path=f.path,N.path=st(N.path)),N.query=f.query):(N.path=m.path,f.query!==void 0?N.query=f.query:N.query=m.query),N.userinfo=m.userinfo,N.host=m.host,N.port=m.port),N.scheme=m.scheme),N.fragment=f.fragment,N}function mr(m,f,v){var T=o({scheme:"null"},v);return Ue(_t(Ge(m,T),Ge(f,T),T,!0),T)}function Ur(m,f){return typeof m=="string"?m=Ue(Ge(m,f),f):a(m)==="object"&&(m=Ge(Ue(m,f),f)),m}function Vr(m,f,v){return typeof m=="string"?m=Ue(Ge(m,v),v):a(m)==="object"&&(m=Ue(m,v)),typeof f=="string"?f=Ue(Ge(f,v),v):a(f)==="object"&&(f=Ue(f,v)),m===f}function Do(m,f){return m&&m.toString().replace(!f||!f.iri?d.ESCAPE:p.ESCAPE,q)}function pt(m,f){return m&&m.toString().replace(!f||!f.iri?d.PCT_ENCODED:p.PCT_ENCODED,K)}var yr={scheme:"http",domainHost:!0,parse:function(f,v){return f.host||(f.error=f.error||"HTTP URIs must have a host."),f},serialize:function(f,v){var T=String(f.scheme).toLowerCase()==="https";return(f.port===(T?443:80)||f.port==="")&&(f.port=void 0),f.path||(f.path="/"),f}},ua={scheme:"https",domainHost:yr.domainHost,parse:yr.parse,serialize:yr.serialize};function fa(m){return typeof m.secure=="boolean"?m.secure:String(m.scheme).toLowerCase()==="wss"}var $r={scheme:"ws",domainHost:!0,parse:function(f,v){var T=f;return T.secure=fa(T),T.resourceName=(T.path||"/")+(T.query?"?"+T.query:""),T.path=void 0,T.query=void 0,T},serialize:function(f,v){if((f.port===(fa(f)?443:80)||f.port==="")&&(f.port=void 0),typeof f.secure=="boolean"&&(f.scheme=f.secure?"wss":"ws",f.secure=void 0),f.resourceName){var T=f.resourceName.split("?"),N=w(T,2),H=N[0],X=N[1];f.path=H&&H!=="/"?H:void 0,f.query=X,f.resourceName=void 0}return f.fragment=void 0,f}},da={scheme:"wss",domainHost:$r.domainHost,parse:$r.parse,serialize:$r.serialize},jo={},ha="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",at="[0-9A-Fa-f]",Lo=s(s("%[EFef]"+at+"%"+at+at+"%"+at+at)+"|"+s("%[89A-Fa-f]"+at+"%"+at+at)+"|"+s("%"+at+at)),Fo="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Mo="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ko=n(Mo,'[\\"\\\\]'),Uo="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Vo=new RegExp(ha,"g"),Wt=new RegExp(Lo,"g"),zo=new RegExp(n("[^]",Fo,"[\\.]",'[\\"]',ko),"g"),pa=new RegExp(n("[^]",ha,Uo),"g"),qo=pa;function Dn(m){var f=K(m);return f.match(Vo)?f:m}var ma={scheme:"mailto",parse:function(f,v){var T=f,N=T.to=T.path?T.path.split(","):[];if(T.path=void 0,T.query){for(var H=!1,X={},ee=T.query.split("&"),ue=0,ve=ee.length;ue<ve;++ue){var Z=ee[ue].split("=");switch(Z[0]){case"to":for(var ce=Z[1].split(","),ge=0,W=ce.length;ge<W;++ge)N.push(ce[ge]);break;case"subject":T.subject=pt(Z[1],v);break;case"body":T.body=pt(Z[1],v);break;default:H=!0,X[pt(Z[0],v)]=pt(Z[1],v);break}}H&&(T.headers=X)}T.query=void 0;for(var he=0,we=N.length;he<we;++he){var pe=N[he].split("@");if(pe[0]=pt(pe[0]),v.unicodeSupport)pe[1]=pt(pe[1],v).toLowerCase();else try{pe[1]=j.toASCII(pt(pe[1],v).toLowerCase())}catch(Et){T.error=T.error||"Email address's domain name can not be converted to ASCII via punycode: "+Et}N[he]=pe.join("@")}return T},serialize:function(f,v){var T=f,N=c(f.to);if(N){for(var H=0,X=N.length;H<X;++H){var ee=String(N[H]),ue=ee.lastIndexOf("@"),ve=ee.slice(0,ue).replace(Wt,Dn).replace(Wt,i).replace(zo,q),Z=ee.slice(ue+1);try{Z=v.iri?j.toUnicode(Z):j.toASCII(pt(Z,v).toLowerCase())}catch(he){T.error=T.error||"Email address's domain name can not be converted to "+(v.iri?"Unicode":"ASCII")+" via punycode: "+he}N[H]=ve+"@"+Z}T.path=N.join(",")}var ce=f.headers=f.headers||{};f.subject&&(ce.subject=f.subject),f.body&&(ce.body=f.body);var ge=[];for(var W in ce)ce[W]!==jo[W]&&ge.push(W.replace(Wt,Dn).replace(Wt,i).replace(pa,q)+"="+ce[W].replace(Wt,Dn).replace(Wt,i).replace(qo,q));return ge.length&&(T.query=ge.join("&")),T}},Go=/^([^\:]+)\:(.*)/,ya={scheme:"urn",parse:function(f,v){var T=f.path&&f.path.match(Go),N=f;if(T){var H=v.scheme||N.scheme||"urn",X=T[1].toLowerCase(),ee=T[2],ue=H+":"+(v.nid||X),ve=V[ue];N.nid=X,N.nss=ee,N.path=void 0,ve&&(N=ve.parse(N,v))}else N.error=N.error||"URN can not be parsed.";return N},serialize:function(f,v){var T=v.scheme||f.scheme||"urn",N=f.nid,H=T+":"+(v.nid||N),X=V[H];X&&(f=X.serialize(f,v));var ee=f,ue=f.nss;return ee.path=(N||v.nid)+":"+ue,ee}},Ko=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,$a={scheme:"urn:uuid",parse:function(f,v){var T=f;return T.uuid=T.nss,T.nss=void 0,!v.tolerant&&(!T.uuid||!T.uuid.match(Ko))&&(T.error=T.error||"UUID is not valid."),T},serialize:function(f,v){var T=f;return T.nss=(f.uuid||"").toLowerCase(),T}};V[yr.scheme]=yr,V[ua.scheme]=ua,V[$r.scheme]=$r,V[da.scheme]=da,V[ma.scheme]=ma,V[ya.scheme]=ya,V[$a.scheme]=$a,r.SCHEMES=V,r.pctEncChar=q,r.pctDecChars=K,r.parse=Ge,r.removeDotSegments=st,r.serialize=Ue,r.resolveComponents=_t,r.resolve=mr,r.normalize=Ur,r.equal=Vr,r.escapeComponent=Do,r.unescapeComponent=pt,Object.defineProperty(r,"__esModule",{value:!0})})})(Yr,Yr.exports);Object.defineProperty(Pe,"__esModule",{value:!0});Pe.getSchemaRefs=Pe.resolveUrl=Pe.normalizeId=Pe._getFullPath=Pe.getFullPath=Pe.inlineRef=void 0;const bl=te,Ol=ni,Nl=si.exports,Jr=Yr.exports,Pl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Tl(e,t=!0){return typeof e=="boolean"?!0:t===!0?!ts(e):t?ai(e)<=t:!1}Pe.inlineRef=Tl;const Il=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ts(e){for(const t in e){if(Il.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(ts)||typeof r=="object"&&ts(r))return!0}return!1}function ai(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Pl.has(r)&&(typeof e[r]=="object"&&(0,bl.eachItem)(e[r],n=>t+=ai(n)),t===1/0))return 1/0}return t}function ii(e="",t){t!==!1&&(e=rr(e));const r=Jr.parse(e);return oi(r)}Pe.getFullPath=ii;function oi(e){return Jr.serialize(e).split("#")[0]+"#"}Pe._getFullPath=oi;const Rl=/#\/?$/;function rr(e){return e?e.replace(Rl,""):""}Pe.normalizeId=rr;function Al(e,t){return t=rr(t),Jr.resolve(e,t)}Pe.resolveUrl=Al;const Cl=/^[a-z_][-a-z0-9._]*$/i;function Dl(e,t){if(typeof e=="boolean")return{};const{schemaId:r}=this.opts,n=rr(e[r]||t),s={"":n},a=ii(n,!1),i={},c=new Set;return Nl(e,{allKeys:!0},(d,p,w,g)=>{if(g===void 0)return;const b=a+p;let P=s[g];typeof d[r]=="string"&&(P=_.call(this,d[r])),$.call(this,d.$anchor),$.call(this,d.$dynamicAnchor),s[p]=P;function _(E){if(E=rr(P?Jr.resolve(P,E):E),c.has(E))throw u(E);c.add(E);let R=this.refs[E];return typeof R=="string"&&(R=this.refs[R]),typeof R=="object"?o(d,R.schema,E):E!==rr(b)&&(E[0]==="#"?(o(d,i[E],E),i[E]=d):this.refs[E]=b),E}function $(E){if(typeof E=="string"){if(!Cl.test(E))throw new Error(`invalid anchor "${E}"`);_.call(this,`#${E}`)}}}),i;function o(d,p,w){if(p!==void 0&&!Ol(d,p))throw u(w)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Pe.getSchemaRefs=Dl;Object.defineProperty(We,"__esModule",{value:!0});We.getData=We.KeywordCxt=We.validateFunctionCode=void 0;const ci=er,li=Sr,rs=yt,Qr=Sr,jl=xr,br=dt,ns=Pt,G=J,x=ft,Ll=Pe,$t=te,Or=Er;function Fl(e){if(hi(e)&&(pi(e),di(e))){Ul(e);return}ui(e,()=>(0,ci.topBoolOrEmptySchema)(e))}We.validateFunctionCode=Fl;function ui({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,G._)`${x.default.data}, ${x.default.valCxt}`,n.$async,()=>{e.code((0,G._)`"use strict"; ${fi(r,s)}`),kl(e,s),e.code(a)}):e.func(t,(0,G._)`${x.default.data}, ${Ml(s)}`,n.$async,()=>e.code(fi(r,s)).code(a))}function Ml(e){return(0,G._)`{${x.default.instancePath}="", ${x.default.parentData}, ${x.default.parentDataProperty}, ${x.default.rootData}=${x.default.data}${e.dynamicRef?(0,G._)`, ${x.default.dynamicAnchors}={}`:G.nil}}={}`}function kl(e,t){e.if(x.default.valCxt,()=>{e.var(x.default.instancePath,(0,G._)`${x.default.valCxt}.${x.default.instancePath}`),e.var(x.default.parentData,(0,G._)`${x.default.valCxt}.${x.default.parentData}`),e.var(x.default.parentDataProperty,(0,G._)`${x.default.valCxt}.${x.default.parentDataProperty}`),e.var(x.default.rootData,(0,G._)`${x.default.valCxt}.${x.default.rootData}`),t.dynamicRef&&e.var(x.default.dynamicAnchors,(0,G._)`${x.default.valCxt}.${x.default.dynamicAnchors}`)},()=>{e.var(x.default.instancePath,(0,G._)`""`),e.var(x.default.parentData,(0,G._)`undefined`),e.var(x.default.parentDataProperty,(0,G._)`undefined`),e.var(x.default.rootData,x.default.data),t.dynamicRef&&e.var(x.default.dynamicAnchors,(0,G._)`{}`)})}function Ul(e){const{schema:t,opts:r,gen:n}=e;ui(e,()=>{r.$comment&&t.$comment&&yi(e),Kl(e),n.let(x.default.vErrors,null),n.let(x.default.errors,0),r.unevaluated&&Vl(e),mi(e),Bl(e)})}function Vl(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,G._)`${r}.evaluated`),t.if((0,G._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,G._)`${e.evaluated}.props`,(0,G._)`undefined`)),t.if((0,G._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,G._)`${e.evaluated}.items`,(0,G._)`undefined`))}function fi(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,G._)`/*# sourceURL=${r} */`:G.nil}function zl(e,t){if(hi(e)&&(pi(e),di(e))){ql(e,t);return}(0,ci.boolOrEmptySchema)(e,t)}function di({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function hi(e){return typeof e.schema!="boolean"}function ql(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&yi(e),Hl(e),Xl(e);const a=n.const("_errs",x.default.errors);mi(e,a),n.var(t,(0,G._)`${a} === ${x.default.errors}`)}function pi(e){(0,$t.checkUnknownRules)(e),Gl(e)}function mi(e,t){if(e.opts.jtd)return $i(e,[],!1,t);const r=(0,li.getSchemaTypes)(e.schema),n=(0,li.coerceAndCheckDataType)(e,r);$i(e,r,!n,t)}function Gl(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,$t.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Kl(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,$t.checkStrictMode)(e,"default is ignored in the schema root")}function Hl(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Ll.resolveUrl)(e.baseId,t))}function Xl(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function yi({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,G._)`${x.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const i=(0,G.str)`${n}/$comment`,c=e.scopeValue("root",{ref:t.root});e.code((0,G._)`${x.default.self}.opts.$comment(${a}, ${i}, ${c}.schema)`)}}function Bl(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,G._)`${x.default.errors} === 0`,()=>t.return(x.default.data),()=>t.throw((0,G._)`new ${s}(${x.default.vErrors})`)):(t.assign((0,G._)`${n}.errors`,x.default.vErrors),a.unevaluated&&xl(e),t.return((0,G._)`${x.default.errors} === 0`))}function xl({gen:e,evaluated:t,props:r,items:n}){r instanceof G.Name&&e.assign((0,G._)`${t}.props`,r),n instanceof G.Name&&e.assign((0,G._)`${t}.items`,n)}function $i(e,t,r,n){const{gen:s,schema:a,data:i,allErrors:c,opts:o,self:u}=e,{RULES:d}=u;if(a.$ref&&(o.ignoreKeywordsWithRef||!(0,$t.schemaHasRulesButRef)(a,d))){s.block(()=>Ei(e,"$ref",d.all.$ref.definition));return}o.jtd||Wl(e,t),s.block(()=>{for(const w of d.rules)p(w);p(d.post)});function p(w){!(0,rs.shouldUseGroup)(a,w)||(w.type?(s.if((0,Qr.checkDataType)(w.type,i,o.strictNumbers)),vi(e,w),t.length===1&&t[0]===w.type&&r&&(s.else(),(0,Qr.reportTypeError)(e)),s.endIf()):vi(e,w),c||s.if((0,G._)`${x.default.errors} === ${n||0}`))}}function vi(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,jl.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,rs.shouldUseRule)(n,a)&&Ei(e,a.keyword,a.definition,t.type)})}function Wl(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Yl(e,t),e.opts.allowUnionTypes||Jl(e,t),Ql(e,e.dataTypes))}function Yl(e,t){if(!!t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{gi(e.dataTypes,r)||ss(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),e.dataTypes=e.dataTypes.filter(r=>gi(t,r))}}function Jl(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ss(e,"use allowUnionTypes to allow union type keyword")}function Ql(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,rs.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(i=>Zl(t,i))&&ss(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function Zl(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function gi(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function ss(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,$t.checkStrictMode)(e,t,e.opts.strictTypes)}class _i{constructor(t,r,n){if((0,br.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,$t.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",wi(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,br.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",x.default.errors))}result(t,r,n){this.failResult((0,G.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,G.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,G._)`${r} !== undefined && (${(0,G.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Or.reportExtraError:Or.reportError)(this,this.def.error,r)}$dataError(){(0,Or.reportError)(this,this.def.$dataError||Or.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Or.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=G.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=G.nil,r=G.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:i}=this;n.if((0,G.or)((0,G._)`${s} === undefined`,r)),t!==G.nil&&n.assign(t,!0),(a.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==G.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,G.or)(i(),c());function i(){if(n.length){if(!(r instanceof G.Name))throw new Error("ajv implementation error");const o=Array.isArray(n)?n:[n];return(0,G._)`${(0,Qr.checkDataTypes)(o,r,a.opts.strictNumbers,Qr.DataType.Wrong)}`}return G.nil}function c(){if(s.validateSchema){const o=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,G._)`!${o}(${r})`}return G.nil}}subschema(t,r){const n=(0,ns.getSubschema)(this.it,t);(0,ns.extendSubschemaData)(n,this.it,t),(0,ns.extendSubschemaMode)(n,t);const s=lt(oe(oe({},this.it),n),{items:void 0,props:void 0});return zl(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&t.props!==void 0&&(n.props=$t.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=$t.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,G.Name)),!0}}We.KeywordCxt=_i;function Ei(e,t,r,n){const s=new _i(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,br.funcKeywordCode)(s,r):"macro"in r?(0,br.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,br.funcKeywordCode)(s,r)}const eu=/^\/(?:[^~]|~0|~1)*$/,tu=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function wi(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return x.default.rootData;if(e[0]==="/"){if(!eu.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=x.default.rootData}else{const u=tu.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const d=+u[1];if(s=u[2],s==="#"){if(d>=t)throw new Error(o("property/index",d));return n[t-d]}if(d>t)throw new Error(o("data",d));if(a=r[t-d],!s)return a}let i=a;const c=s.split("/");for(const u of c)u&&(a=(0,G._)`${a}${(0,G.getProperty)((0,$t.unescapeJsonPointer)(u))}`,i=(0,G._)`${i} && ${a}`);return i;function o(u,d){return`Cannot access ${u} ${d} levels up, current level is ${t}`}}We.getData=wi;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});class ru extends Error{constructor(t){super("validation failed");this.errors=t,this.ajv=this.validation=!0}}Zr.default=ru;var en={};Object.defineProperty(en,"__esModule",{value:!0});const as=Pe;class nu extends Error{constructor(t,r,n){super(n||`can't resolve reference ${r} from id ${t}`);this.missingRef=(0,as.resolveUrl)(t,r),this.missingSchema=(0,as.normalizeId)((0,as.getFullPath)(this.missingRef))}}en.default=nu;var ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.resolveSchema=ze.getCompilingSchema=ze.resolveRef=ze.compileSchema=ze.SchemaEnv=void 0;const Ye=J,su=Zr,kt=ft,Je=Pe,Si=te,au=We,iu=Yr.exports;class tn{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Je.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}ze.SchemaEnv=tn;function is(e){const t=bi.call(this,e);if(t)return t;const r=(0,Je.getFullPath)(e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,i=new Ye.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let c;e.$async&&(c=i.scopeValue("Error",{ref:su.default,code:(0,Ye._)`require("ajv/dist/runtime/validation_error").default`}));const o=i.scopeName("validate");e.validateName=o;const u={gen:i,allErrors:this.opts.allErrors,data:kt.default.data,parentData:kt.default.parentData,parentDataProperty:kt.default.parentDataProperty,dataNames:[kt.default.data],dataPathArr:[Ye.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ye.stringify)(e.schema)}:{ref:e.schema}),validateName:o,ValidationError:c,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ye.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ye._)`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,au.validateFunctionCode)(u),i.optimize(this.opts.code.optimize);const p=i.toString();d=`${i.scopeRefs(kt.default.scope)}return ${p}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const g=new Function(`${kt.default.self}`,`${kt.default.scope}`,d)(this,this.scope.get());if(this.scope.value(o,{ref:g}),g.errors=null,g.schema=e.schema,g.schemaEnv=e,e.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:o,validateCode:p,scopeValues:i._values}),this.opts.unevaluated){const{props:b,items:P}=u;g.evaluated={props:b instanceof Ye.Name?void 0:b,items:P instanceof Ye.Name?void 0:P,dynamicProps:b instanceof Ye.Name,dynamicItems:P instanceof Ye.Name},g.source&&(g.source.evaluated=(0,Ye.stringify)(g.evaluated))}return e.validate=g,e}catch(p){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),p}finally{this._compilations.delete(e)}}ze.compileSchema=is;function ou(e,t,r){var n;r=(0,Je.resolveUrl)(t,r);const s=e.refs[r];if(s)return s;let a=uu.call(this,e,r);if(a===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:c}=this.opts;i&&(a=new tn({schema:i,schemaId:c,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=cu.call(this,a)}ze.resolveRef=ou;function cu(e){return(0,Je.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:is.call(this,e)}function bi(e){for(const t of this._compilations)if(lu(t,e))return t}ze.getCompilingSchema=bi;function lu(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function uu(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||rn.call(this,e,t)}function rn(e,t){const r=iu.parse(t),n=(0,Je._getFullPath)(r);let s=(0,Je.getFullPath)(e.baseId);if(Object.keys(e.schema).length>0&&n===s)return os.call(this,r,e);const a=(0,Je.normalizeId)(n),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){const c=rn.call(this,e,i);return typeof(c==null?void 0:c.schema)!="object"?void 0:os.call(this,r,c)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||is.call(this,i),a===(0,Je.normalizeId)(t)){const{schema:c}=i,{schemaId:o}=this.opts,u=c[o];return u&&(s=(0,Je.resolveUrl)(s,u)),new tn({schema:c,schemaId:o,root:e,baseId:s})}return os.call(this,r,i)}}ze.resolveSchema=rn;const fu=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function os(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const c of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const o=r[(0,Si.unescapeFragment)(c)];if(o===void 0)return;r=o;const u=typeof r=="object"&&r[this.opts.schemaId];!fu.has(c)&&u&&(t=(0,Je.resolveUrl)(t,u))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Si.schemaHasRulesButRef)(r,this.RULES)){const c=(0,Je.resolveUrl)(t,r.$ref);a=rn.call(this,n,c)}const{schemaId:i}=this.opts;if(a=a||new tn({schema:r,schemaId:i,root:n,baseId:t}),a.schema!==a.root.schema)return a}const du="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",hu="Meta-schema for $data reference (JSON AnySchema extension proposal)",pu="object",mu=["$data"],yu={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},$u=!1;var vu={$id:du,description:hu,type:pu,required:mu,properties:yu,additionalProperties:$u};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=We;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=J;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Zr,s=en,a=Ft,i=ze,c=J,o=Pe,u=Sr,d=te,p=vu,w=(O,h)=>new RegExp(O,h);w.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),P={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},_={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},$=200;function E(O){var h,D,L,A,l,y,j,V,q,K,de,nt,At,Ht,fr,dr,Ge,hr,Xt,Bt,xt,pr,st,Ue;const _t=O.strict,mr=(h=O.code)===null||h===void 0?void 0:h.optimize,Ur=mr===!0||mr===void 0?1:mr||0,Vr=(L=(D=O.code)===null||D===void 0?void 0:D.regExp)!==null&&L!==void 0?L:w;return{strictSchema:(l=(A=O.strictSchema)!==null&&A!==void 0?A:_t)!==null&&l!==void 0?l:!0,strictNumbers:(j=(y=O.strictNumbers)!==null&&y!==void 0?y:_t)!==null&&j!==void 0?j:!0,strictTypes:(q=(V=O.strictTypes)!==null&&V!==void 0?V:_t)!==null&&q!==void 0?q:"log",strictTuples:(de=(K=O.strictTuples)!==null&&K!==void 0?K:_t)!==null&&de!==void 0?de:"log",strictRequired:(At=(nt=O.strictRequired)!==null&&nt!==void 0?nt:_t)!==null&&At!==void 0?At:!1,code:O.code?lt(oe({},O.code),{optimize:Ur,regExp:Vr}):{optimize:Ur,regExp:Vr},loopRequired:(Ht=O.loopRequired)!==null&&Ht!==void 0?Ht:$,loopEnum:(fr=O.loopEnum)!==null&&fr!==void 0?fr:$,meta:(dr=O.meta)!==null&&dr!==void 0?dr:!0,messages:(Ge=O.messages)!==null&&Ge!==void 0?Ge:!0,inlineRefs:(hr=O.inlineRefs)!==null&&hr!==void 0?hr:!0,schemaId:(Xt=O.schemaId)!==null&&Xt!==void 0?Xt:"$id",addUsedSchema:(Bt=O.addUsedSchema)!==null&&Bt!==void 0?Bt:!0,validateSchema:(xt=O.validateSchema)!==null&&xt!==void 0?xt:!0,validateFormats:(pr=O.validateFormats)!==null&&pr!==void 0?pr:!0,unicodeRegExp:(st=O.unicodeRegExp)!==null&&st!==void 0?st:!0,int32range:(Ue=O.int32range)!==null&&Ue!==void 0?Ue:!0}}class R{constructor(h={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,h=this.opts=oe(oe({},h),E(h));const{es5:D,lines:L}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:b,es5:D,lines:L}),this.logger=Y(h.logger);const A=h.validateFormats;h.validateFormats=!1,this.RULES=(0,a.getRules)(),C.call(this,P,h,"NOT SUPPORTED"),C.call(this,_,h,"DEPRECATED","warn"),this._metaOpts=k.call(this),h.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),h.keywords&&M.call(this,h.keywords),typeof h.meta=="object"&&this.addMetaSchema(h.meta),S.call(this),h.validateFormats=A}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:h,meta:D,schemaId:L}=this.opts;let A=p;L==="id"&&(A=oe({},p),A.id=A.$id,delete A.$id),D&&h&&this.addMetaSchema(A,A[L],!1)}defaultMeta(){const{meta:h,schemaId:D}=this.opts;return this.opts.defaultMeta=typeof h=="object"?h[D]||h:void 0}validate(h,D){let L;if(typeof h=="string"){if(L=this.getSchema(h),!L)throw new Error(`no schema with key or ref "${h}"`)}else L=this.compile(h);const A=L(D);return"$async"in L||(this.errors=L.errors),A}compile(h,D){const L=this._addSchema(h,D);return L.validate||this._compileSchemaEnv(L)}compileAsync(h,D){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:L}=this.opts;return A.call(this,h,D);async function A(K,de){await l.call(this,K.$schema);const nt=this._addSchema(K,de);return nt.validate||y.call(this,nt)}async function l(K){K&&!this.getSchema(K)&&await A.call(this,{$ref:K},!0)}async function y(K){try{return this._compileSchemaEnv(K)}catch(de){if(!(de instanceof s.default))throw de;return j.call(this,de),await V.call(this,de.missingSchema),y.call(this,K)}}function j({missingSchema:K,missingRef:de}){if(this.refs[K])throw new Error(`AnySchema ${K} is loaded but ${de} cannot be resolved`)}async function V(K){const de=await q.call(this,K);this.refs[K]||await l.call(this,de.$schema),this.refs[K]||this.addSchema(de,K,D)}async function q(K){const de=this._loading[K];if(de)return de;try{return await(this._loading[K]=L(K))}finally{delete this._loading[K]}}}addSchema(h,D,L,A=this.opts.validateSchema){if(Array.isArray(h)){for(const y of h)this.addSchema(y,void 0,L,A);return this}let l;if(typeof h=="object"){const{schemaId:y}=this.opts;if(l=h[y],l!==void 0&&typeof l!="string")throw new Error(`schema ${y} must be string`)}return D=(0,o.normalizeId)(D||l),this._checkUnique(D),this.schemas[D]=this._addSchema(h,L,D,A,!0),this}addMetaSchema(h,D,L=this.opts.validateSchema){return this.addSchema(h,D,!0,L),this}validateSchema(h,D){if(typeof h=="boolean")return!0;let L;if(L=h.$schema,L!==void 0&&typeof L!="string")throw new Error("$schema must be a string");if(L=L||this.opts.defaultMeta||this.defaultMeta(),!L)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const A=this.validate(L,h);if(!A&&D){const l="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(l);else throw new Error(l)}return A}getSchema(h){let D;for(;typeof(D=U.call(this,h))=="string";)h=D;if(D===void 0){const{schemaId:L}=this.opts,A=new i.SchemaEnv({schema:{},schemaId:L});if(D=i.resolveSchema.call(this,A,h),!D)return;this.refs[h]=D}return D.validate||this._compileSchemaEnv(D)}removeSchema(h){if(h instanceof RegExp)return this._removeAllSchemas(this.schemas,h),this._removeAllSchemas(this.refs,h),this;switch(typeof h){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const D=U.call(this,h);return typeof D=="object"&&this._cache.delete(D.schema),delete this.schemas[h],delete this.refs[h],this}case"object":{const D=h;this._cache.delete(D);let L=h[this.opts.schemaId];return L&&(L=(0,o.normalizeId)(L),delete this.schemas[L],delete this.refs[L]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(h){for(const D of h)this.addKeyword(D);return this}addKeyword(h,D){let L;if(typeof h=="string")L=h,typeof D=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),D.keyword=L);else if(typeof h=="object"&&D===void 0){if(D=h,L=D.keyword,Array.isArray(L)&&!L.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if($e.call(this,L,D),!D)return(0,d.eachItem)(L,l=>re.call(this,l)),this;xe.call(this,D);const A=lt(oe({},D),{type:(0,u.getJSONTypes)(D.type),schemaType:(0,u.getJSONTypes)(D.schemaType)});return(0,d.eachItem)(L,A.type.length===0?l=>re.call(this,l,A):l=>A.type.forEach(y=>re.call(this,l,A,y))),this}getKeyword(h){const D=this.RULES.all[h];return typeof D=="object"?D.definition:!!D}removeKeyword(h){const{RULES:D}=this;delete D.keywords[h],delete D.all[h];for(const L of D.rules){const A=L.rules.findIndex(l=>l.keyword===h);A>=0&&L.rules.splice(A,1)}return this}addFormat(h,D){return typeof D=="string"&&(D=new RegExp(D)),this.formats[h]=D,this}errorsText(h=this.errors,{separator:D=", ",dataVar:L="data"}={}){return!h||h.length===0?"No errors":h.map(A=>`${L}${A.instancePath} ${A.message}`).reduce((A,l)=>A+D+l)}$dataMetaSchema(h,D){const L=this.RULES.all;h=JSON.parse(JSON.stringify(h));for(const A of D){const l=A.split("/").slice(1);let y=h;for(const j of l)y=y[j];for(const j in L){const V=L[j];if(typeof V!="object")continue;const{$data:q}=V.definition,K=y[j];q&&K&&(y[j]=F(K))}}return h}_removeAllSchemas(h,D){for(const L in h){const A=h[L];(!D||D.test(L))&&(typeof A=="string"?delete h[L]:A&&!A.meta&&(this._cache.delete(A.schema),delete h[L]))}}_addSchema(h,D,L,A=this.opts.validateSchema,l=this.opts.addUsedSchema){let y;const{schemaId:j}=this.opts;if(typeof h=="object")y=h[j];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof h!="boolean")throw new Error("schema must be object or boolean")}let V=this._cache.get(h);if(V!==void 0)return V;L=(0,o.normalizeId)(y||L);const q=o.getSchemaRefs.call(this,h,L);return V=new i.SchemaEnv({schema:h,schemaId:j,meta:D,baseId:L,localRefs:q}),this._cache.set(V.schema,V),l&&!L.startsWith("#")&&(L&&this._checkUnique(L),this.refs[L]=V),A&&this.validateSchema(h,!0),V}_checkUnique(h){if(this.schemas[h]||this.refs[h])throw new Error(`schema with key or id "${h}" already exists`)}_compileSchemaEnv(h){if(h.meta?this._compileMetaSchema(h):i.compileSchema.call(this,h),!h.validate)throw new Error("ajv implementation error");return h.validate}_compileMetaSchema(h){const D=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,h)}finally{this.opts=D}}}e.default=R,R.ValidationError=n.default,R.MissingRefError=s.default;function C(O,h,D,L="error"){for(const A in O){const l=A;l in h&&this.logger[L](`${D}: option ${A}. ${O[l]}`)}}function U(O){return O=(0,o.normalizeId)(O),this.schemas[O]||this.refs[O]}function S(){const O=this.opts.schemas;if(!!O)if(Array.isArray(O))this.addSchema(O);else for(const h in O)this.addSchema(O[h],h)}function I(){for(const O in this.opts.formats){const h=this.opts.formats[O];h&&this.addFormat(O,h)}}function M(O){if(Array.isArray(O)){this.addVocabulary(O);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const h in O){const D=O[h];D.keyword||(D.keyword=h),this.addKeyword(D)}}function k(){const O=oe({},this.opts);for(const h of g)delete O[h];return O}const z={log(){},warn(){},error(){}};function Y(O){if(O===!1)return z;if(O===void 0)return console;if(O.log&&O.warn&&O.error)return O;throw new Error("logger must implement log, warn and error methods")}const B=/^[a-z_$][a-z0-9_$:-]*$/i;function $e(O,h){const{RULES:D}=this;if((0,d.eachItem)(O,L=>{if(D.keywords[L])throw new Error(`Keyword ${L} is already defined`);if(!B.test(L))throw new Error(`Keyword ${L} has invalid name`)}),!!h&&h.$data&&!("code"in h||"validate"in h))throw new Error('$data keyword must have "code" or "validate" function')}function re(O,h,D){var L;const A=h==null?void 0:h.post;if(D&&A)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:l}=this;let y=A?l.post:l.rules.find(({type:V})=>V===D);if(y||(y={type:D,rules:[]},l.rules.push(y)),l.keywords[O]=!0,!h)return;const j={keyword:O,definition:lt(oe({},h),{type:(0,u.getJSONTypes)(h.type),schemaType:(0,u.getJSONTypes)(h.schemaType)})};h.before?ke.call(this,y,j,h.before):y.rules.push(j),l.all[O]=j,(L=h.implements)===null||L===void 0||L.forEach(V=>this.addKeyword(V))}function ke(O,h,D){const L=O.rules.findIndex(A=>A.keyword===D);L>=0?O.rules.splice(L,0,h):(O.rules.push(h),this.logger.warn(`rule ${D} is not defined`))}function xe(O){let{metaSchema:h}=O;h!==void 0&&(O.$data&&this.opts.$data&&(h=F(h)),O.validateSchema=this.compile(h,!0))}const me={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function F(O){return{anyOf:[O,me]}}})(Ba);var cs={},ls={},us={};Object.defineProperty(us,"__esModule",{value:!0});const gu={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};us.default=gu;var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.callRef=Ut.getValidate=void 0;const _u=en,Oi=Q,qe=J,nr=ft,Ni=ze,nn=te,Eu={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:i,opts:c,self:o}=n,{root:u}=a;if((r==="#"||r==="#/")&&s===u.baseId)return p();const d=Ni.resolveRef.call(o,u,s,r);if(d===void 0)throw new _u.default(s,r);if(d instanceof Ni.SchemaEnv)return w(d);return g(d);function p(){if(a===u)return sn(e,i,a,a.$async);const b=t.scopeValue("root",{ref:u});return sn(e,(0,qe._)`${b}.validate`,u,u.$async)}function w(b){const P=Pi(e,b);sn(e,P,b,b.$async)}function g(b){const P=t.scopeValue("schema",c.code.source===!0?{ref:b,code:(0,qe.stringify)(b)}:{ref:b}),_=t.name("valid"),$=e.subschema({schema:b,dataTypes:[],schemaPath:qe.nil,topSchemaRef:P,errSchemaPath:r},_);e.mergeEvaluated($),e.ok(_)}}};function Pi(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,qe._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Ut.getValidate=Pi;function sn(e,t,r,n){const{gen:s,it:a}=e,{allErrors:i,schemaEnv:c,opts:o}=a,u=o.passContext?nr.default.this:qe.nil;n?d():p();function d(){if(!c.$async)throw new Error("async schema referenced by sync schema");const b=s.let("valid");s.try(()=>{s.code((0,qe._)`await ${(0,Oi.callValidateCode)(e,t,u)}`),g(t),i||s.assign(b,!0)},P=>{s.if((0,qe._)`!(${P} instanceof ${a.ValidationError})`,()=>s.throw(P)),w(P),i||s.assign(b,!1)}),e.ok(b)}function p(){e.result((0,Oi.callValidateCode)(e,t,u),()=>g(t),()=>w(t))}function w(b){const P=(0,qe._)`${b}.errors`;s.assign(nr.default.vErrors,(0,qe._)`${nr.default.vErrors} === null ? ${P} : ${nr.default.vErrors}.concat(${P})`),s.assign(nr.default.errors,(0,qe._)`${nr.default.vErrors}.length`)}function g(b){var P;if(!a.opts.unevaluated)return;const _=(P=r==null?void 0:r.validate)===null||P===void 0?void 0:P.evaluated;if(a.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(a.props=nn.mergeEvaluated.props(s,_.props,a.props));else{const $=s.var("props",(0,qe._)`${b}.evaluated.props`);a.props=nn.mergeEvaluated.props(s,$,a.props,qe.Name)}if(a.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(a.items=nn.mergeEvaluated.items(s,_.items,a.items));else{const $=s.var("items",(0,qe._)`${b}.evaluated.items`);a.items=nn.mergeEvaluated.items(s,$,a.items,qe.Name)}}}Ut.callRef=sn;Ut.default=Eu;Object.defineProperty(ls,"__esModule",{value:!0});const wu=us,Su=Ut,bu=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",wu.default,Su.default];ls.default=bu;var fs={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});const an=J,It=an.operators,on={maximum:{okStr:"<=",ok:It.LTE,fail:It.GT},minimum:{okStr:">=",ok:It.GTE,fail:It.LT},exclusiveMaximum:{okStr:"<",ok:It.LT,fail:It.GTE},exclusiveMinimum:{okStr:">",ok:It.GT,fail:It.LTE}},Ou={message:({keyword:e,schemaCode:t})=>(0,an.str)`must be ${on[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,an._)`{comparison: ${on[e].okStr}, limit: ${t}}`},Nu={keyword:Object.keys(on),type:"number",schemaType:"number",$data:!0,error:Ou,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,an._)`${r} ${on[t].fail} ${n} || isNaN(${r})`)}};ds.default=Nu;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});const Nr=J,Pu={message:({schemaCode:e})=>(0,Nr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Nr._)`{multipleOf: ${e}}`},Tu={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Pu,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,i=t.let("res"),c=a?(0,Nr._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:(0,Nr._)`${i} !== parseInt(${i})`;e.fail$data((0,Nr._)`(${n} === 0 || (${i} = ${r}/${n}, ${c}))`)}};hs.default=Tu;var ps={},ms={};Object.defineProperty(ms,"__esModule",{value:!0});function Ti(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)==56320&&n++);return r}ms.default=Ti;Ti.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ps,"__esModule",{value:!0});const Vt=J,Iu=te,Ru=ms,Au={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Vt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Vt._)`{limit: ${e}}`},Cu={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Au,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?Vt.operators.GT:Vt.operators.LT,i=s.opts.unicode===!1?(0,Vt._)`${r}.length`:(0,Vt._)`${(0,Iu.useFunc)(e.gen,Ru.default)}(${r})`;e.fail$data((0,Vt._)`${i} ${a} ${n}`)}};ps.default=Cu;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});const Du=Q,cn=J,ju={message:({schemaCode:e})=>(0,cn.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,cn._)`{pattern: ${e}}`},Lu={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:ju,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,i=a.opts.unicodeRegExp?"u":"",c=r?(0,cn._)`(new RegExp(${s}, ${i}))`:(0,Du.usePattern)(e,n);e.fail$data((0,cn._)`!${c}.test(${t})`)}};ys.default=Lu;var $s={};Object.defineProperty($s,"__esModule",{value:!0});const Pr=J,Fu={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Pr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Pr._)`{limit: ${e}}`},Mu={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Fu,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?Pr.operators.GT:Pr.operators.LT;e.fail$data((0,Pr._)`Object.keys(${r}).length ${s} ${n}`)}};$s.default=Mu;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});const Tr=Q,Ir=J,ku=te,Uu={message:({params:{missingProperty:e}})=>(0,Ir.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ir._)`{missingProperty: ${e}}`},Vu={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Uu,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:i}=e,{opts:c}=i;if(!a&&r.length===0)return;const o=r.length>=c.loopRequired;if(i.allErrors?u():d(),c.strictRequired){const g=e.parentSchema.properties,{definedProperties:b}=e.it;for(const P of r)if((g==null?void 0:g[P])===void 0&&!b.has(P)){const _=i.schemaEnv.baseId+i.errSchemaPath,$=`required property "${P}" is not defined at "${_}" (strictRequired)`;(0,ku.checkStrictMode)(i,$,i.opts.strictRequired)}}function u(){if(o||a)e.block$data(Ir.nil,p);else for(const g of r)(0,Tr.checkReportMissingProp)(e,g)}function d(){const g=t.let("missing");if(o||a){const b=t.let("valid",!0);e.block$data(b,()=>w(g,b)),e.ok(b)}else t.if((0,Tr.checkMissingProp)(e,r,g)),(0,Tr.reportMissingProp)(e,g),t.else()}function p(){t.forOf("prop",n,g=>{e.setParams({missingProperty:g}),t.if((0,Tr.noPropertyInData)(t,s,g,c.ownProperties),()=>e.error())})}function w(g,b){e.setParams({missingProperty:g}),t.forOf(g,n,()=>{t.assign(b,(0,Tr.propertyInData)(t,s,g,c.ownProperties)),t.if((0,Ir.not)(b),()=>{e.error(),t.break()})},Ir.nil)}}};vs.default=Vu;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});const Rr=J,zu={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Rr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Rr._)`{limit: ${e}}`},qu={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:zu,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?Rr.operators.GT:Rr.operators.LT;e.fail$data((0,Rr._)`${r}.length ${s} ${n}`)}};gs.default=qu;var _s={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});const Ii=ni;Ii.code='require("ajv/dist/runtime/equal").default';Ar.default=Ii;Object.defineProperty(_s,"__esModule",{value:!0});const Es=Sr,Te=J,Gu=te,Ku=Ar,Hu={message:({params:{i:e,j:t}})=>(0,Te.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Te._)`{i: ${e}, j: ${t}}`},Xu={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Hu,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:i,it:c}=e;if(!n&&!s)return;const o=t.let("valid"),u=a.items?(0,Es.getSchemaTypes)(a.items):[];e.block$data(o,d,(0,Te._)`${i} === false`),e.ok(o);function d(){const b=t.let("i",(0,Te._)`${r}.length`),P=t.let("j");e.setParams({i:b,j:P}),t.assign(o,!0),t.if((0,Te._)`${b} > 1`,()=>(p()?w:g)(b,P))}function p(){return u.length>0&&!u.some(b=>b==="object"||b==="array")}function w(b,P){const _=t.name("item"),$=(0,Es.checkDataTypes)(u,_,c.opts.strictNumbers,Es.DataType.Wrong),E=t.const("indices",(0,Te._)`{}`);t.for((0,Te._)`;${b}--;`,()=>{t.let(_,(0,Te._)`${r}[${b}]`),t.if($,(0,Te._)`continue`),u.length>1&&t.if((0,Te._)`typeof ${_} == "string"`,(0,Te._)`${_} += "_"`),t.if((0,Te._)`typeof ${E}[${_}] == "number"`,()=>{t.assign(P,(0,Te._)`${E}[${_}]`),e.error(),t.assign(o,!1).break()}).code((0,Te._)`${E}[${_}] = ${b}`)})}function g(b,P){const _=(0,Gu.useFunc)(t,Ku.default),$=t.name("outer");t.label($).for((0,Te._)`;${b}--;`,()=>t.for((0,Te._)`${P} = ${b}; ${P}--;`,()=>t.if((0,Te._)`${_}(${r}[${b}], ${r}[${P}])`,()=>{e.error(),t.assign(o,!1).break($)})))}}};_s.default=Xu;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});const Ss=J,Bu=te,xu=Ar,Wu={message:"must be equal to constant",params:({schemaCode:e})=>(0,Ss._)`{allowedValue: ${e}}`},Yu={keyword:"const",$data:!0,error:Wu,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,Ss._)`!${(0,Bu.useFunc)(t,xu.default)}(${r}, ${s})`):e.fail((0,Ss._)`${a} !== ${r}`)}};ws.default=Yu;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const Cr=J,Ju=te,Qu=Ar,Zu={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Cr._)`{allowedValues: ${e}}`},ef={keyword:"enum",schemaType:"array",$data:!0,error:Zu,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:i}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const c=s.length>=i.opts.loopEnum,o=(0,Ju.useFunc)(t,Qu.default);let u;if(c||n)u=t.let("valid"),e.block$data(u,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const w=t.const("vSchema",a);u=(0,Cr.or)(...s.map((g,b)=>p(w,b)))}e.pass(u);function d(){t.assign(u,!1),t.forOf("v",a,w=>t.if((0,Cr._)`${o}(${r}, ${w})`,()=>t.assign(u,!0).break()))}function p(w,g){const b=s[g];return typeof b=="object"&&b!==null?(0,Cr._)`${o}(${r}, ${w}[${g}])`:(0,Cr._)`${r} === ${b}`}}};bs.default=ef;Object.defineProperty(fs,"__esModule",{value:!0});const tf=ds,rf=hs,nf=ps,sf=ys,af=$s,of=vs,cf=gs,lf=_s,uf=ws,ff=bs,df=[tf.default,rf.default,nf.default,sf.default,af.default,of.default,cf.default,lf.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},uf.default,ff.default];fs.default=df;var Os={},sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.validateAdditionalItems=void 0;const zt=J,Ns=te,hf={message:({params:{len:e}})=>(0,zt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,zt._)`{limit: ${e}}`},pf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:hf,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Ns.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ri(e,n)}};function Ri(e,t){const{gen:r,schema:n,data:s,keyword:a,it:i}=e;i.items=!0;const c=r.const("len",(0,zt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,zt._)`${c} <= ${t.length}`);else if(typeof n=="object"&&!(0,Ns.alwaysValidSchema)(i,n)){const u=r.var("valid",(0,zt._)`${c} <= ${t.length}`);r.if((0,zt.not)(u),()=>o(u)),e.ok(u)}function o(u){r.forRange("i",t.length,c,d=>{e.subschema({keyword:a,dataProp:d,dataPropType:Ns.Type.Num},u),i.allErrors||r.if((0,zt.not)(u),()=>r.break())})}}sr.validateAdditionalItems=Ri;sr.default=pf;var Ps={},ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.validateTuple=void 0;const Ai=J,ln=te,mf=Q,yf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Ci(e,"additionalItems",t);r.items=!0,!(0,ln.alwaysValidSchema)(r,t)&&e.ok((0,mf.validateArray)(e))}};function Ci(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:i,it:c}=e;d(s),c.opts.unevaluated&&r.length&&c.items!==!0&&(c.items=ln.mergeEvaluated.items(n,r.length,c.items));const o=n.name("valid"),u=n.const("len",(0,Ai._)`${a}.length`);r.forEach((p,w)=>{(0,ln.alwaysValidSchema)(c,p)||(n.if((0,Ai._)`${u} > ${w}`,()=>e.subschema({keyword:i,schemaProp:w,dataProp:w},o)),e.ok(o))});function d(p){const{opts:w,errSchemaPath:g}=c,b=r.length,P=b===p.minItems&&(b===p.maxItems||p[t]===!1);if(w.strictTuples&&!P){const _=`"${i}" is ${b}-tuple, but minItems or maxItems/${t} are not specified or different at path "${g}"`;(0,ln.checkStrictMode)(c,_,w.strictTuples)}}}ar.validateTuple=Ci;ar.default=yf;Object.defineProperty(Ps,"__esModule",{value:!0});const $f=ar,vf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,$f.validateTuple)(e,"items")};Ps.default=vf;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});const Di=J,gf=te,_f=Q,Ef=sr,wf={message:({params:{len:e}})=>(0,Di.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Di._)`{limit: ${e}}`},Sf={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:wf,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,gf.alwaysValidSchema)(n,t)&&(s?(0,Ef.validateAdditionalItems)(e,s):e.ok((0,_f.validateArray)(e)))}};Ts.default=Sf;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});const Be=J,un=te,bf={message:({params:{min:e,max:t}})=>t===void 0?(0,Be.str)`must contain at least ${e} valid item(s)`:(0,Be.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Be._)`{minContains: ${e}}`:(0,Be._)`{minContains: ${e}, maxContains: ${t}}`},Of={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:bf,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let i,c;const{minContains:o,maxContains:u}=n;a.opts.next?(i=o===void 0?1:o,c=u):i=1;const d=t.const("len",(0,Be._)`${s}.length`);if(e.setParams({min:i,max:c}),c===void 0&&i===0){(0,un.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(c!==void 0&&i>c){(0,un.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,un.alwaysValidSchema)(a,r)){let P=(0,Be._)`${d} >= ${i}`;c!==void 0&&(P=(0,Be._)`${P} && ${d} <= ${c}`),e.pass(P);return}a.items=!0;const p=t.name("valid");c===void 0&&i===1?g(p,()=>t.if(p,()=>t.break())):i===0?(t.let(p,!0),c!==void 0&&t.if((0,Be._)`${s}.length > 0`,w)):(t.let(p,!1),w()),e.result(p,()=>e.reset());function w(){const P=t.name("_valid"),_=t.let("count",0);g(P,()=>t.if(P,()=>b(_)))}function g(P,_){t.forRange("i",0,d,$=>{e.subschema({keyword:"contains",dataProp:$,dataPropType:un.Type.Num,compositeRule:!0},P),_()})}function b(P){t.code((0,Be._)`${P}++`),c===void 0?t.if((0,Be._)`${P} >= ${i}`,()=>t.assign(p,!0).break()):(t.if((0,Be._)`${P} > ${c}`,()=>t.assign(p,!1).break()),i===1?t.assign(p,!0):t.if((0,Be._)`${P} >= ${i}`,()=>t.assign(p,!0)))}}};Is.default=Of;var ji={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=J,r=te,n=Q;e.error={message:({params:{property:o,depsCount:u,deps:d}})=>{const p=u===1?"property":"properties";return(0,t.str)`must have ${p} ${d} when property ${o} is present`},params:({params:{property:o,depsCount:u,deps:d,missingProperty:p}})=>(0,t._)`{property: ${o},
    missingProperty: ${p},
    depsCount: ${u},
    deps: ${d}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(o){const[u,d]=a(o);i(o,u),c(o,d)}};function a({schema:o}){const u={},d={};for(const p in o){if(p==="__proto__")continue;const w=Array.isArray(o[p])?u:d;w[p]=o[p]}return[u,d]}function i(o,u=o.schema){const{gen:d,data:p,it:w}=o;if(Object.keys(u).length===0)return;const g=d.let("missing");for(const b in u){const P=u[b];if(P.length===0)continue;const _=(0,n.propertyInData)(d,p,b,w.opts.ownProperties);o.setParams({property:b,depsCount:P.length,deps:P.join(", ")}),w.allErrors?d.if(_,()=>{for(const $ of P)(0,n.checkReportMissingProp)(o,$)}):(d.if((0,t._)`${_} && (${(0,n.checkMissingProp)(o,P,g)})`),(0,n.reportMissingProp)(o,g),d.else())}}e.validatePropertyDeps=i;function c(o,u=o.schema){const{gen:d,data:p,keyword:w,it:g}=o,b=d.name("valid");for(const P in u)(0,r.alwaysValidSchema)(g,u[P])||(d.if((0,n.propertyInData)(d,p,P,g.opts.ownProperties),()=>{const _=o.subschema({keyword:w,schemaProp:P},b);o.mergeValidEvaluated(_,b)},()=>d.var(b,!0)),o.ok(b))}e.validateSchemaDeps=c,e.default=s})(ji);var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});const Li=J,Nf=te,Pf={message:"property name must be valid",params:({params:e})=>(0,Li._)`{propertyName: ${e.propertyName}}`},Tf={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Pf,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,Nf.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),t.if((0,Li.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};Rs.default=Tf;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});const dn=Q,Qe=J,If=ft,hn=te,Rf={message:"must NOT have additional properties",params:({params:e})=>(0,Qe._)`{additionalProperty: ${e.additionalProperty}}`},Af={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Rf,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:i}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:c,opts:o}=i;if(i.props=!0,o.removeAdditional!=="all"&&(0,hn.alwaysValidSchema)(i,r))return;const u=(0,dn.allSchemaProperties)(n.properties),d=(0,dn.allSchemaProperties)(n.patternProperties);p(),e.ok((0,Qe._)`${a} === ${If.default.errors}`);function p(){t.forIn("key",s,_=>{!u.length&&!d.length?b(_):t.if(w(_),()=>b(_))})}function w(_){let $;if(u.length>8){const E=(0,hn.schemaRefOrVal)(i,n.properties,"properties");$=(0,dn.isOwnProperty)(t,E,_)}else u.length?$=(0,Qe.or)(...u.map(E=>(0,Qe._)`${_} === ${E}`)):$=Qe.nil;return d.length&&($=(0,Qe.or)($,...d.map(E=>(0,Qe._)`${(0,dn.usePattern)(e,E)}.test(${_})`))),(0,Qe.not)($)}function g(_){t.code((0,Qe._)`delete ${s}[${_}]`)}function b(_){if(o.removeAdditional==="all"||o.removeAdditional&&r===!1){g(_);return}if(r===!1){e.setParams({additionalProperty:_}),e.error(),c||t.break();return}if(typeof r=="object"&&!(0,hn.alwaysValidSchema)(i,r)){const $=t.name("valid");o.removeAdditional==="failing"?(P(_,$,!1),t.if((0,Qe.not)($),()=>{e.reset(),g(_)})):(P(_,$),c||t.if((0,Qe.not)($),()=>t.break()))}}function P(_,$,E){const R={keyword:"additionalProperties",dataProp:_,dataPropType:hn.Type.Str};E===!1&&Object.assign(R,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(R,$)}}};fn.default=Af;var As={};Object.defineProperty(As,"__esModule",{value:!0});const Cf=We,Fi=Q,Cs=te,Mi=fn,Df={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Mi.default.code(new Cf.KeywordCxt(a,Mi.default,"additionalProperties"));const i=(0,Fi.allSchemaProperties)(r);for(const p of i)a.definedProperties.add(p);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=Cs.mergeEvaluated.props(t,(0,Cs.toHash)(i),a.props));const c=i.filter(p=>!(0,Cs.alwaysValidSchema)(a,r[p]));if(c.length===0)return;const o=t.name("valid");for(const p of c)u(p)?d(p):(t.if((0,Fi.propertyInData)(t,s,p,a.opts.ownProperties)),d(p),a.allErrors||t.else().var(o,!0),t.endIf()),e.it.definedProperties.add(p),e.ok(o);function u(p){return a.opts.useDefaults&&!a.compositeRule&&r[p].default!==void 0}function d(p){e.subschema({keyword:"properties",schemaProp:p,dataProp:p},o)}}};As.default=Df;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const ki=Q,pn=J,Ui=te,Vi=te,jf={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:i}=a,c=(0,ki.allSchemaProperties)(r),o=c.filter(P=>(0,Ui.alwaysValidSchema)(a,r[P]));if(c.length===0||o.length===c.length&&(!a.opts.unevaluated||a.props===!0))return;const u=i.strictSchema&&!i.allowMatchingProperties&&s.properties,d=t.name("valid");a.props!==!0&&!(a.props instanceof pn.Name)&&(a.props=(0,Vi.evaluatedPropsToName)(t,a.props));const{props:p}=a;w();function w(){for(const P of c)u&&g(P),a.allErrors?b(P):(t.var(d,!0),b(P),t.if(d))}function g(P){for(const _ in u)new RegExp(P).test(_)&&(0,Ui.checkStrictMode)(a,`property ${_} matches pattern ${P} (use allowMatchingProperties)`)}function b(P){t.forIn("key",n,_=>{t.if((0,pn._)`${(0,ki.usePattern)(e,P)}.test(${_})`,()=>{const $=o.includes(P);$||e.subschema({keyword:"patternProperties",schemaProp:P,dataProp:_,dataPropType:Vi.Type.Str},d),a.opts.unevaluated&&p!==!0?t.assign((0,pn._)`${p}[${_}]`,!0):!$&&!a.allErrors&&t.if((0,pn.not)(d),()=>t.break())})})}}};Ds.default=jf;var js={};Object.defineProperty(js,"__esModule",{value:!0});const Lf=te,Ff={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Lf.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};js.default=Ff;var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});const Mf=Q,kf={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Mf.validateUnion,error:{message:"must match a schema in anyOf"}};Ls.default=kf;var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});const mn=J,Uf=te,Vf={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,mn._)`{passingSchemas: ${e.passing}}`},zf={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Vf,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,i=t.let("valid",!1),c=t.let("passing",null),o=t.name("_valid");e.setParams({passing:c}),t.block(u),e.result(i,()=>e.reset(),()=>e.error(!0));function u(){a.forEach((d,p)=>{let w;(0,Uf.alwaysValidSchema)(s,d)?t.var(o,!0):w=e.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},o),p>0&&t.if((0,mn._)`${o} && ${i}`).assign(i,!1).assign(c,(0,mn._)`[${c}, ${p}]`).else(),t.if(o,()=>{t.assign(i,!0),t.assign(c,p),w&&e.mergeEvaluated(w,mn.Name)})})}}};Fs.default=zf;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});const qf=te,Gf={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,i)=>{if((0,qf.alwaysValidSchema)(n,a))return;const c=e.subschema({keyword:"allOf",schemaProp:i},s);e.ok(s),e.mergeEvaluated(c)})}};Ms.default=Gf;var ks={};Object.defineProperty(ks,"__esModule",{value:!0});const yn=J,zi=te,Kf={message:({params:e})=>(0,yn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,yn._)`{failingKeyword: ${e.ifClause}}`},Hf={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Kf,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,zi.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=qi(n,"then"),a=qi(n,"else");if(!s&&!a)return;const i=t.let("valid",!0),c=t.name("_valid");if(o(),e.reset(),s&&a){const d=t.let("ifClause");e.setParams({ifClause:d}),t.if(c,u("then",d),u("else",d))}else s?t.if(c,u("then")):t.if((0,yn.not)(c),u("else"));e.pass(i,()=>e.error(!0));function o(){const d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);e.mergeEvaluated(d)}function u(d,p){return()=>{const w=e.subschema({keyword:d},c);t.assign(i,c),e.mergeValidEvaluated(w,i),p?t.assign(p,(0,yn._)`${d}`):e.setParams({ifClause:d})}}}};function qi(e,t){const r=e.schema[t];return r!==void 0&&!(0,zi.alwaysValidSchema)(e,r)}ks.default=Hf;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});const Xf=te,Bf={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Xf.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Us.default=Bf;Object.defineProperty(Os,"__esModule",{value:!0});const xf=sr,Wf=Ps,Yf=ar,Jf=Ts,Qf=Is,Zf=ji,ed=Rs,td=fn,rd=As,nd=Ds,sd=js,ad=Ls,id=Fs,od=Ms,cd=ks,ld=Us;function ud(e=!1){const t=[sd.default,ad.default,id.default,od.default,cd.default,ld.default,ed.default,td.default,Zf.default,rd.default,nd.default];return e?t.push(Wf.default,Jf.default):t.push(xf.default,Yf.default),t.push(Qf.default),t}Os.default=ud;var Vs={},zs={};Object.defineProperty(zs,"__esModule",{value:!0});const _e=J,fd={message:({schemaCode:e})=>(0,_e.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,_e._)`{format: ${e}}`},dd={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:fd,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:i,it:c}=e,{opts:o,errSchemaPath:u,schemaEnv:d,self:p}=c;if(!o.validateFormats)return;s?w():g();function w(){const b=r.scopeValue("formats",{ref:p.formats,code:o.code.formats}),P=r.const("fDef",(0,_e._)`${b}[${i}]`),_=r.let("fType"),$=r.let("format");r.if((0,_e._)`typeof ${P} == "object" && !(${P} instanceof RegExp)`,()=>r.assign(_,(0,_e._)`${P}.type || "string"`).assign($,(0,_e._)`${P}.validate`),()=>r.assign(_,(0,_e._)`"string"`).assign($,P)),e.fail$data((0,_e.or)(E(),R()));function E(){return o.strictSchema===!1?_e.nil:(0,_e._)`${i} && !${$}`}function R(){const C=d.$async?(0,_e._)`(${P}.async ? await ${$}(${n}) : ${$}(${n}))`:(0,_e._)`${$}(${n})`,U=(0,_e._)`(typeof ${$} == "function" ? ${C} : ${$}.test(${n}))`;return(0,_e._)`${$} && ${$} !== true && ${_} === ${t} && !${U}`}}function g(){const b=p.formats[a];if(!b){E();return}if(b===!0)return;const[P,_,$]=R(b);P===t&&e.pass(C());function E(){if(o.strictSchema===!1){p.logger.warn(U());return}throw new Error(U());function U(){return`unknown format "${a}" ignored in schema at path "${u}"`}}function R(U){const S=U instanceof RegExp?(0,_e.regexpCode)(U):o.code.formats?(0,_e._)`${o.code.formats}${(0,_e.getProperty)(a)}`:void 0,I=r.scopeValue("formats",{key:a,ref:U,code:S});return typeof U=="object"&&!(U instanceof RegExp)?[U.type||"string",U.validate,(0,_e._)`${I}.validate`]:["string",U,I]}function C(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!d.$async)throw new Error("async format in sync schema");return(0,_e._)`await ${$}(${n})`}return typeof _=="function"?(0,_e._)`${$}(${n})`:(0,_e._)`${$}.test(${n})`}}}};zs.default=dd;Object.defineProperty(Vs,"__esModule",{value:!0});const hd=zs,pd=[hd.default];Vs.default=pd;var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.contentVocabulary=ir.metadataVocabulary=void 0;ir.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];ir.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(cs,"__esModule",{value:!0});const md=ls,yd=fs,$d=Os,vd=Vs,Gi=ir,gd=[md.default,yd.default,(0,$d.default)(),vd.default,Gi.metadataVocabulary,Gi.contentVocabulary];cs.default=gd;var qs={},Ki={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Ki);Object.defineProperty(qs,"__esModule",{value:!0});const or=J,Gs=Ki,Hi=ze,_d=te,Ed={message:({params:{discrError:e,tagName:t}})=>e===Gs.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,or._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},wd={keyword:"discriminator",type:"object",schemaType:"object",error:Ed,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:i}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const c=n.propertyName;if(typeof c!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const o=t.let("valid",!1),u=t.const("tag",(0,or._)`${r}${(0,or.getProperty)(c)}`);t.if((0,or._)`typeof ${u} == "string"`,()=>d(),()=>e.error(!1,{discrError:Gs.DiscrError.Tag,tag:u,tagName:c})),e.ok(o);function d(){const g=w();t.if(!1);for(const b in g)t.elseIf((0,or._)`${u} === ${b}`),t.assign(o,p(g[b]));t.else(),e.error(!1,{discrError:Gs.DiscrError.Mapping,tag:u,tagName:c}),t.endIf()}function p(g){const b=t.name("valid"),P=e.subschema({keyword:"oneOf",schemaProp:g},b);return e.mergeEvaluated(P,or.Name),b}function w(){var g;const b={},P=$(s);let _=!0;for(let C=0;C<i.length;C++){let U=i[C];(U==null?void 0:U.$ref)&&!(0,_d.schemaHasRulesButRef)(U,a.self.RULES)&&(U=Hi.resolveRef.call(a.self,a.schemaEnv,a.baseId,U==null?void 0:U.$ref),U instanceof Hi.SchemaEnv&&(U=U.schema));const S=(g=U==null?void 0:U.properties)===null||g===void 0?void 0:g[c];if(typeof S!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${c}"`);_=_&&(P||$(U)),E(S,C)}if(!_)throw new Error(`discriminator: "${c}" must be required`);return b;function $({required:C}){return Array.isArray(C)&&C.includes(c)}function E(C,U){if(C.const)R(C.const,U);else if(C.enum)for(const S of C.enum)R(S,U);else throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`)}function R(C,U){if(typeof C!="string"||C in b)throw new Error(`discriminator: "${c}" values must be unique strings`);b[C]=U}}}};qs.default=wd;const Sd="http://json-schema.org/draft-07/schema#",bd="http://json-schema.org/draft-07/schema#",Od="Core schema meta-schema",Nd={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Pd=["object","boolean"],Td={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}};var Id={$schema:Sd,$id:bd,title:Od,definitions:Nd,type:Pd,properties:Td,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Ba,n=cs,s=qs,a=Id,i=["/properties"],c="http://json-schema.org/draft-07/schema";class o extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(w=>this.addVocabulary(w)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const w=this.opts.$data?this.$dataMetaSchema(a,i):a;this.addMetaSchema(w,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}e.exports=t=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var u=We;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=J;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}})})(Br,Br.exports);var Ks={exports:{}},Xi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(k,z){return{validate:k,compare:z}}e.fullFormats={date:t(a,i),time:t(o,u),"date-time":t(p,w),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:P,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:M,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:$,int32:{type:"number",validate:C},int64:{type:"number",validate:U},float:{type:"number",validate:S},double:{type:"number",validate:S},password:!0,binary:!0},e.fastFormats=lt(oe({},e.fullFormats),{date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,w),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i}),e.formatNames=Object.keys(e.fullFormats);function r(k){return k%4==0&&(k%100!=0||k%400==0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(k){const z=n.exec(k);if(!z)return!1;const Y=+z[1],B=+z[2],$e=+z[3];return B>=1&&B<=12&&$e>=1&&$e<=(B===2&&r(Y)?29:s[B])}function i(k,z){if(!!(k&&z))return k>z?1:k<z?-1:0}const c=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function o(k,z){const Y=c.exec(k);if(!Y)return!1;const B=+Y[1],$e=+Y[2],re=+Y[3],ke=Y[5];return(B<=23&&$e<=59&&re<=59||B===23&&$e===59&&re===60)&&(!z||ke!=="")}function u(k,z){if(!(k&&z))return;const Y=c.exec(k),B=c.exec(z);if(!!(Y&&B))return k=Y[1]+Y[2]+Y[3]+(Y[4]||""),z=B[1]+B[2]+B[3]+(B[4]||""),k>z?1:k<z?-1:0}const d=/t|\s/i;function p(k){const z=k.split(d);return z.length===2&&a(z[0])&&o(z[1],!0)}function w(k,z){if(!(k&&z))return;const[Y,B]=k.split(d),[$e,re]=z.split(d),ke=i(Y,$e);if(ke!==void 0)return ke||u(B,re)}const g=/\/|:/,b=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function P(k){return g.test(k)&&b.test(k)}const _=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function $(k){return _.lastIndex=0,_.test(k)}const E=-(2**31),R=2**31-1;function C(k){return Number.isInteger(k)&&k<=R&&k>=E}function U(k){return Number.isInteger(k)}function S(){return!0}const I=/[^\\]\\Z/;function M(k){if(I.test(k))return!1;try{return new RegExp(k),!0}catch{return!1}}})(Xi);var Bi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Br.exports,r=J,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:c,schemaCode:o})=>r.str`should be ${s[c].okStr} ${o}`,params:({keyword:c,schemaCode:o})=>r._`{comparison: ${s[c].okStr}, limit: ${o}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(c){const{gen:o,data:u,schemaCode:d,keyword:p,it:w}=c,{opts:g,self:b}=w;if(!g.validateFormats)return;const P=new t.KeywordCxt(w,b.RULES.all.format.definition,"format");P.$data?_():$();function _(){const R=o.scopeValue("formats",{ref:b.formats,code:g.code.formats}),C=o.const("fmt",r._`${R}[${P.schemaCode}]`);c.fail$data(r.or(r._`typeof ${C} != "object"`,r._`${C} instanceof RegExp`,r._`typeof ${C}.compare != "function"`,E(C)))}function $(){const R=P.schema,C=b.formats[R];if(!C||C===!0)return;if(typeof C!="object"||C instanceof RegExp||typeof C.compare!="function")throw new Error(`"${p}": format "${R}" does not define "compare" function`);const U=o.scopeValue("formats",{key:R,ref:C,code:g.code.formats?r._`${g.code.formats}${r.getProperty(R)}`:void 0});c.fail$data(E(U))}function E(R){return r._`${R}.compare(${u}, ${d}) ${s[p].fail} 0`}},dependencies:["format"]};const i=c=>(c.addKeyword(e.formatLimitDefinition),c);e.default=i})(Bi);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Xi,n=Bi,s=J,a=new s.Name("fullFormats"),i=new s.Name("fastFormats"),c=(u,d={keywords:!0})=>{if(Array.isArray(d))return o(u,d,r.fullFormats,a),u;const[p,w]=d.mode==="fast"?[r.fastFormats,i]:[r.fullFormats,a],g=d.formats||r.formatNames;return o(u,g,p,w),d.keywords&&n.default(u),u};c.get=(u,d="full")=>{const w=(d==="fast"?r.fastFormats:r.fullFormats)[u];if(!w)throw new Error(`Unknown format "${u}"`);return w};function o(u,d,p,w){var g,b;(g=(b=u.opts.code).formats)!==null&&g!==void 0||(b.formats=s._`require("ajv-formats/dist/formats").${w}`);for(const P of d)u.addFormat(P,p[P])}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c})(Ks,Ks.exports);const Rd=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!Ad(s,a)&&n||Object.defineProperty(e,r,a)},Ad=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Cd=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},Dd=(e,t)=>`/* Wrapped ${e}*/
${t}`,jd=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Ld=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Fd=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=Dd.bind(null,n,t.toString());Object.defineProperty(s,"name",Ld),Object.defineProperty(e,"toString",lt(oe({},jd),{value:s}))},Md=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const s of Reflect.ownKeys(t))Rd(e,t,s,r);return Cd(e,t),Fd(e,t,n),e};var kd=Md;const Ud=kd;var Vd=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:s=!0}=t;if(!n&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,i;const c=function(...o){const u=this,d=()=>{a=void 0,s&&(i=e.apply(u,o))},p=n&&!a;return clearTimeout(a),a=setTimeout(d,r),p&&(i=e.apply(u,o)),i};return Ud(c,e),c.cancel=()=>{a&&(clearTimeout(a),a=void 0)},c},Rt={exports:{}};const zd="2.0.0",qd=256,Gd=Number.MAX_SAFE_INTEGER||9007199254740991,Kd=16;var $n={SEMVER_SPEC_VERSION:zd,MAX_LENGTH:qd,MAX_SAFE_INTEGER:Gd,MAX_SAFE_COMPONENT_LENGTH:Kd};const Hd=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var vn=Hd;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r}=$n,n=vn;t=e.exports={};const s=t.re=[],a=t.src=[],i=t.t={};let c=0;const o=(u,d,p)=>{const w=c++;n(w,d),i[u]=w,a[w]=d,s[w]=new RegExp(d,p?"g":void 0)};o("NUMERICIDENTIFIER","0|[1-9]\\d*"),o("NUMERICIDENTIFIERLOOSE","[0-9]+"),o("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),o("MAINVERSION",`(${a[i.NUMERICIDENTIFIER]})\\.(${a[i.NUMERICIDENTIFIER]})\\.(${a[i.NUMERICIDENTIFIER]})`),o("MAINVERSIONLOOSE",`(${a[i.NUMERICIDENTIFIERLOOSE]})\\.(${a[i.NUMERICIDENTIFIERLOOSE]})\\.(${a[i.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASEIDENTIFIER",`(?:${a[i.NUMERICIDENTIFIER]}|${a[i.NONNUMERICIDENTIFIER]})`),o("PRERELEASEIDENTIFIERLOOSE",`(?:${a[i.NUMERICIDENTIFIERLOOSE]}|${a[i.NONNUMERICIDENTIFIER]})`),o("PRERELEASE",`(?:-(${a[i.PRERELEASEIDENTIFIER]}(?:\\.${a[i.PRERELEASEIDENTIFIER]})*))`),o("PRERELEASELOOSE",`(?:-?(${a[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[i.PRERELEASEIDENTIFIERLOOSE]})*))`),o("BUILDIDENTIFIER","[0-9A-Za-z-]+"),o("BUILD",`(?:\\+(${a[i.BUILDIDENTIFIER]}(?:\\.${a[i.BUILDIDENTIFIER]})*))`),o("FULLPLAIN",`v?${a[i.MAINVERSION]}${a[i.PRERELEASE]}?${a[i.BUILD]}?`),o("FULL",`^${a[i.FULLPLAIN]}$`),o("LOOSEPLAIN",`[v=\\s]*${a[i.MAINVERSIONLOOSE]}${a[i.PRERELEASELOOSE]}?${a[i.BUILD]}?`),o("LOOSE",`^${a[i.LOOSEPLAIN]}$`),o("GTLT","((?:<|>)?=?)"),o("XRANGEIDENTIFIERLOOSE",`${a[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),o("XRANGEIDENTIFIER",`${a[i.NUMERICIDENTIFIER]}|x|X|\\*`),o("XRANGEPLAIN",`[v=\\s]*(${a[i.XRANGEIDENTIFIER]})(?:\\.(${a[i.XRANGEIDENTIFIER]})(?:\\.(${a[i.XRANGEIDENTIFIER]})(?:${a[i.PRERELEASE]})?${a[i.BUILD]}?)?)?`),o("XRANGEPLAINLOOSE",`[v=\\s]*(${a[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[i.XRANGEIDENTIFIERLOOSE]})(?:${a[i.PRERELEASELOOSE]})?${a[i.BUILD]}?)?)?`),o("XRANGE",`^${a[i.GTLT]}\\s*${a[i.XRANGEPLAIN]}$`),o("XRANGELOOSE",`^${a[i.GTLT]}\\s*${a[i.XRANGEPLAINLOOSE]}$`),o("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),o("COERCERTL",a[i.COERCE],!0),o("LONETILDE","(?:~>?)"),o("TILDETRIM",`(\\s*)${a[i.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",o("TILDE",`^${a[i.LONETILDE]}${a[i.XRANGEPLAIN]}$`),o("TILDELOOSE",`^${a[i.LONETILDE]}${a[i.XRANGEPLAINLOOSE]}$`),o("LONECARET","(?:\\^)"),o("CARETTRIM",`(\\s*)${a[i.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",o("CARET",`^${a[i.LONECARET]}${a[i.XRANGEPLAIN]}$`),o("CARETLOOSE",`^${a[i.LONECARET]}${a[i.XRANGEPLAINLOOSE]}$`),o("COMPARATORLOOSE",`^${a[i.GTLT]}\\s*(${a[i.LOOSEPLAIN]})$|^$`),o("COMPARATOR",`^${a[i.GTLT]}\\s*(${a[i.FULLPLAIN]})$|^$`),o("COMPARATORTRIM",`(\\s*)${a[i.GTLT]}\\s*(${a[i.LOOSEPLAIN]}|${a[i.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",o("HYPHENRANGE",`^\\s*(${a[i.XRANGEPLAIN]})\\s+-\\s+(${a[i.XRANGEPLAIN]})\\s*$`),o("HYPHENRANGELOOSE",`^\\s*(${a[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[i.XRANGEPLAINLOOSE]})\\s*$`),o("STAR","(<|>)?=?\\s*\\*"),o("GTE0","^\\s*>=\\s*0.0.0\\s*$"),o("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")})(Rt,Rt.exports);const Xd=["includePrerelease","loose","rtl"],Bd=e=>e?typeof e!="object"?{loose:!0}:Xd.filter(t=>e[t]).reduce((t,r)=>(t[r]=!0,t),{}):{};var gn=Bd;const xi=/^[0-9]+$/,Wi=(e,t)=>{const r=xi.test(e),n=xi.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},xd=(e,t)=>Wi(t,e);var Hs={compareIdentifiers:Wi,rcompareIdentifiers:xd};const _n=vn,{MAX_LENGTH:Yi,MAX_SAFE_INTEGER:En}=$n,{re:Ji,t:Qi}=Rt.exports,Wd=gn,{compareIdentifiers:Dr}=Hs;class Ze{constructor(t,r){if(r=Wd(r),t instanceof Ze){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>Yi)throw new TypeError(`version is longer than ${Yi} characters`);_n("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Ji[Qi.LOOSE]:Ji[Qi.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>En||this.major<0)throw new TypeError("Invalid major version");if(this.minor>En||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>En||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<En)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(_n("SemVer.compare",this.version,this.options,t),!(t instanceof Ze)){if(typeof t=="string"&&t===this.version)return 0;t=new Ze(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ze||(t=new Ze(t,this.options)),Dr(this.major,t.major)||Dr(this.minor,t.minor)||Dr(this.patch,t.patch)}comparePre(t){if(t instanceof Ze||(t=new Ze(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(_n("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Dr(n,s)}while(++r)}compareBuild(t){t instanceof Ze||(t=new Ze(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(_n("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Dr(n,s)}while(++r)}inc(t,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}}var Le=Ze;const{MAX_LENGTH:Yd}=$n,{re:Zi,t:eo}=Rt.exports,to=Le,Jd=gn,Qd=(e,t)=>{if(t=Jd(t),e instanceof to)return e;if(typeof e!="string"||e.length>Yd||!(t.loose?Zi[eo.LOOSE]:Zi[eo.FULL]).test(e))return null;try{return new to(e,t)}catch{return null}};var cr=Qd;const Zd=cr,eh=(e,t)=>{const r=Zd(e,t);return r?r.version:null};var th=eh;const rh=cr,nh=(e,t)=>{const r=rh(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var sh=nh;const ah=Le,ih=(e,t,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new ah(e,r).inc(t,n).version}catch{return null}};var oh=ih;const ro=Le,ch=(e,t,r)=>new ro(e,r).compare(new ro(t,r));var et=ch;const lh=et,uh=(e,t,r)=>lh(e,t,r)===0;var Xs=uh;const no=cr,fh=Xs,dh=(e,t)=>{if(fh(e,t))return null;{const r=no(e),n=no(t),s=r.prerelease.length||n.prerelease.length,a=s?"pre":"",i=s?"prerelease":"";for(const c in r)if((c==="major"||c==="minor"||c==="patch")&&r[c]!==n[c])return a+c;return i}};var hh=dh;const ph=Le,mh=(e,t)=>new ph(e,t).major;var yh=mh;const $h=Le,vh=(e,t)=>new $h(e,t).minor;var gh=vh;const _h=Le,Eh=(e,t)=>new _h(e,t).patch;var wh=Eh;const Sh=cr,bh=(e,t)=>{const r=Sh(e,t);return r&&r.prerelease.length?r.prerelease:null};var Oh=bh;const Nh=et,Ph=(e,t,r)=>Nh(t,e,r);var Th=Ph;const Ih=et,Rh=(e,t)=>Ih(e,t,!0);var Ah=Rh;const so=Le,Ch=(e,t,r)=>{const n=new so(e,r),s=new so(t,r);return n.compare(s)||n.compareBuild(s)};var Bs=Ch;const Dh=Bs,jh=(e,t)=>e.sort((r,n)=>Dh(r,n,t));var Lh=jh;const Fh=Bs,Mh=(e,t)=>e.sort((r,n)=>Fh(n,r,t));var kh=Mh;const Uh=et,Vh=(e,t,r)=>Uh(e,t,r)>0;var wn=Vh;const zh=et,qh=(e,t,r)=>zh(e,t,r)<0;var xs=qh;const Gh=et,Kh=(e,t,r)=>Gh(e,t,r)!==0;var ao=Kh;const Hh=et,Xh=(e,t,r)=>Hh(e,t,r)>=0;var Ws=Xh;const Bh=et,xh=(e,t,r)=>Bh(e,t,r)<=0;var Ys=xh;const Wh=Xs,Yh=ao,Jh=wn,Qh=Ws,Zh=xs,ep=Ys,tp=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Wh(e,r,n);case"!=":return Yh(e,r,n);case">":return Jh(e,r,n);case">=":return Qh(e,r,n);case"<":return Zh(e,r,n);case"<=":return ep(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var io=tp;const rp=Le,np=cr,{re:Sn,t:bn}=Rt.exports,sp=(e,t)=>{if(e instanceof rp)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(Sn[bn.COERCE]);else{let n;for(;(n=Sn[bn.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Sn[bn.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Sn[bn.COERCERTL].lastIndex=-1}return r===null?null:np(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};var ap=sp,ip=ne;ne.Node=qt;ne.create=ne;function ne(e){var t=this;if(t instanceof ne||(t=new ne),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}ne.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};ne.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};ne.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};ne.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)cp(this,arguments[e]);return this.length};ne.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)lp(this,arguments[e]);return this.length};ne.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};ne.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};ne.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};ne.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};ne.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};ne.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};ne.prototype.map=function(e,t){t=t||this;for(var r=new ne,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};ne.prototype.mapReverse=function(e,t){t=t||this;for(var r=new ne,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};ne.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=e(r,n.value,s),n=n.next;return r};ne.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=e(r,n.value,s),n=n.prev;return r};ne.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};ne.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};ne.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new ne;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(;s!==null&&n<t;n++,s=s.next)r.push(s.value);return r};ne.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new ne;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,s=this.tail;s!==null&&n>t;n--)s=s.prev;for(;s!==null&&n>e;n--,s=s.prev)r.push(s.value);return r};ne.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(var a=[],n=0;s&&n<t;n++)a.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=op(this,s,r[n]);return a};ne.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function op(e,t,r){var n=t===e.head?new qt(r,null,t,e):new qt(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function cp(e,t){e.tail=new qt(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function lp(e,t){e.head=new qt(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function qt(e,t,r,n){if(!(this instanceof qt))return new qt(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{require("./iterator.js")(ne)}catch{}const up=ip,Gt=Symbol("max"),vt=Symbol("length"),lr=Symbol("lengthCalculator"),jr=Symbol("allowStale"),Kt=Symbol("maxAge"),gt=Symbol("dispose"),oo=Symbol("noDisposeOnSet"),be=Symbol("lruList"),tt=Symbol("cache"),co=Symbol("updateAgeOnGet"),Js=()=>1;class fp{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Gt]=t.max||1/0;const r=t.length||Js;if(this[lr]=typeof r!="function"?Js:r,this[jr]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Kt]=t.maxAge||0,this[gt]=t.dispose,this[oo]=t.noDisposeOnSet||!1,this[co]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Gt]=t||1/0,Lr(this)}get max(){return this[Gt]}set allowStale(t){this[jr]=!!t}get allowStale(){return this[jr]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Kt]=t,Lr(this)}get maxAge(){return this[Kt]}set lengthCalculator(t){typeof t!="function"&&(t=Js),t!==this[lr]&&(this[lr]=t,this[vt]=0,this[be].forEach(r=>{r.length=this[lr](r.value,r.key),this[vt]+=r.length})),Lr(this)}get lengthCalculator(){return this[lr]}get length(){return this[vt]}get itemCount(){return this[be].length}rforEach(t,r){r=r||this;for(let n=this[be].tail;n!==null;){const s=n.prev;lo(this,t,n,r),n=s}}forEach(t,r){r=r||this;for(let n=this[be].head;n!==null;){const s=n.next;lo(this,t,n,r),n=s}}keys(){return this[be].toArray().map(t=>t.key)}values(){return this[be].toArray().map(t=>t.value)}reset(){this[gt]&&this[be]&&this[be].length&&this[be].forEach(t=>this[gt](t.key,t.value)),this[tt]=new Map,this[be]=new up,this[vt]=0}dump(){return this[be].map(t=>On(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[be]}set(t,r,n){if(n=n||this[Kt],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const s=n?Date.now():0,a=this[lr](r,t);if(this[tt].has(t)){if(a>this[Gt])return ur(this,this[tt].get(t)),!1;const o=this[tt].get(t).value;return this[gt]&&(this[oo]||this[gt](t,o.value)),o.now=s,o.maxAge=n,o.value=r,this[vt]+=a-o.length,o.length=a,this.get(t),Lr(this),!0}const i=new dp(t,r,a,s,n);return i.length>this[Gt]?(this[gt]&&this[gt](t,r),!1):(this[vt]+=i.length,this[be].unshift(i),this[tt].set(t,this[be].head),Lr(this),!0)}has(t){if(!this[tt].has(t))return!1;const r=this[tt].get(t).value;return!On(this,r)}get(t){return Qs(this,t,!0)}peek(t){return Qs(this,t,!1)}pop(){const t=this[be].tail;return t?(ur(this,t),t.value):null}del(t){ur(this,this[tt].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const s=t[n],a=s.e||0;if(a===0)this.set(s.k,s.v);else{const i=a-r;i>0&&this.set(s.k,s.v,i)}}}prune(){this[tt].forEach((t,r)=>Qs(this,r,!1))}}const Qs=(e,t,r)=>{const n=e[tt].get(t);if(n){const s=n.value;if(On(e,s)){if(ur(e,n),!e[jr])return}else r&&(e[co]&&(n.value.now=Date.now()),e[be].unshiftNode(n));return s.value}},On=(e,t)=>{if(!t||!t.maxAge&&!e[Kt])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Kt]&&r>e[Kt]},Lr=e=>{if(e[vt]>e[Gt])for(let t=e[be].tail;e[vt]>e[Gt]&&t!==null;){const r=t.prev;ur(e,t),t=r}},ur=(e,t)=>{if(t){const r=t.value;e[gt]&&e[gt](r.key,r.value),e[vt]-=r.length,e[tt].delete(r.key),e[be].removeNode(t)}};class dp{constructor(t,r,n,s,a){this.key=t,this.value=r,this.length=n,this.now=s,this.maxAge=a||0}}const lo=(e,t,r,n)=>{let s=r.value;On(e,s)&&(ur(e,r),e[jr]||(s=void 0)),s&&t.call(n,s.value,s.key,e)};var hp=fp;class Fr{constructor(t,r){if(r=mp(r),t instanceof Fr)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new Fr(t.raw,r);if(t instanceof Zs)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){const n=this.set[0];if(this.set=this.set.filter(s=>!fo(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(const s of this.set)if(s.length===1&&_p(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();const n=`parseRange:${Object.keys(this.options).join(",")}:${t}`,s=uo.get(n);if(s)return s;const a=this.options.loose,i=a?Ae[Ie.HYPHENRANGELOOSE]:Ae[Ie.HYPHENRANGE];t=t.replace(i,Rp(this.options.includePrerelease)),Ee("hyphen replace",t),t=t.replace(Ae[Ie.COMPARATORTRIM],$p),Ee("comparator trim",t,Ae[Ie.COMPARATORTRIM]),t=t.replace(Ae[Ie.TILDETRIM],vp),t=t.replace(Ae[Ie.CARETTRIM],gp),t=t.split(/\s+/).join(" ");const c=a?Ae[Ie.COMPARATORLOOSE]:Ae[Ie.COMPARATOR],o=t.split(" ").map(p=>Ep(p,this.options)).join(" ").split(/\s+/).map(p=>Ip(p,this.options)).filter(this.options.loose?p=>!!p.match(c):()=>!0).map(p=>new Zs(p,this.options));o.length;const u=new Map;for(const p of o){if(fo(p))return[p];u.set(p.value,p)}u.size>1&&u.has("")&&u.delete("");const d=[...u.values()];return uo.set(n,d),d}intersects(t,r){if(!(t instanceof Fr))throw new TypeError("a Range is required");return this.set.some(n=>ho(n,r)&&t.set.some(s=>ho(s,r)&&n.every(a=>s.every(i=>a.intersects(i,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new yp(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Ap(this.set[r],t,this.options))return!0;return!1}}var rt=Fr;const pp=hp,uo=new pp({max:1e3}),mp=gn,Zs=Pn,Ee=vn,yp=Le,{re:Ae,t:Ie,comparatorTrimReplace:$p,tildeTrimReplace:vp,caretTrimReplace:gp}=Rt.exports,fo=e=>e.value==="<0.0.0-0",_p=e=>e.value==="",ho=(e,t)=>{let r=!0;const n=e.slice();let s=n.pop();for(;r&&n.length;)r=n.every(a=>s.intersects(a,t)),s=n.pop();return r},Ep=(e,t)=>(Ee("comp",e,t),e=bp(e,t),Ee("caret",e),e=wp(e,t),Ee("tildes",e),e=Np(e,t),Ee("xrange",e),e=Tp(e,t),Ee("stars",e),e),Fe=e=>!e||e.toLowerCase()==="x"||e==="*",wp=(e,t)=>e.trim().split(/\s+/).map(r=>Sp(r,t)).join(" "),Sp=(e,t)=>{const r=t.loose?Ae[Ie.TILDELOOSE]:Ae[Ie.TILDE];return e.replace(r,(n,s,a,i,c)=>{Ee("tilde",e,n,s,a,i,c);let o;return Fe(s)?o="":Fe(a)?o=`>=${s}.0.0 <${+s+1}.0.0-0`:Fe(i)?o=`>=${s}.${a}.0 <${s}.${+a+1}.0-0`:c?(Ee("replaceTilde pr",c),o=`>=${s}.${a}.${i}-${c} <${s}.${+a+1}.0-0`):o=`>=${s}.${a}.${i} <${s}.${+a+1}.0-0`,Ee("tilde return",o),o})},bp=(e,t)=>e.trim().split(/\s+/).map(r=>Op(r,t)).join(" "),Op=(e,t)=>{Ee("caret",e,t);const r=t.loose?Ae[Ie.CARETLOOSE]:Ae[Ie.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(s,a,i,c,o)=>{Ee("caret",e,s,a,i,c,o);let u;return Fe(a)?u="":Fe(i)?u=`>=${a}.0.0${n} <${+a+1}.0.0-0`:Fe(c)?a==="0"?u=`>=${a}.${i}.0${n} <${a}.${+i+1}.0-0`:u=`>=${a}.${i}.0${n} <${+a+1}.0.0-0`:o?(Ee("replaceCaret pr",o),a==="0"?i==="0"?u=`>=${a}.${i}.${c}-${o} <${a}.${i}.${+c+1}-0`:u=`>=${a}.${i}.${c}-${o} <${a}.${+i+1}.0-0`:u=`>=${a}.${i}.${c}-${o} <${+a+1}.0.0-0`):(Ee("no pr"),a==="0"?i==="0"?u=`>=${a}.${i}.${c}${n} <${a}.${i}.${+c+1}-0`:u=`>=${a}.${i}.${c}${n} <${a}.${+i+1}.0-0`:u=`>=${a}.${i}.${c} <${+a+1}.0.0-0`),Ee("caret return",u),u})},Np=(e,t)=>(Ee("replaceXRanges",e,t),e.split(/\s+/).map(r=>Pp(r,t)).join(" ")),Pp=(e,t)=>{e=e.trim();const r=t.loose?Ae[Ie.XRANGELOOSE]:Ae[Ie.XRANGE];return e.replace(r,(n,s,a,i,c,o)=>{Ee("xRange",e,n,s,a,i,c,o);const u=Fe(a),d=u||Fe(i),p=d||Fe(c),w=p;return s==="="&&w&&(s=""),o=t.includePrerelease?"-0":"",u?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&w?(d&&(i=0),c=0,s===">"?(s=">=",d?(a=+a+1,i=0,c=0):(i=+i+1,c=0)):s==="<="&&(s="<",d?a=+a+1:i=+i+1),s==="<"&&(o="-0"),n=`${s+a}.${i}.${c}${o}`):d?n=`>=${a}.0.0${o} <${+a+1}.0.0-0`:p&&(n=`>=${a}.${i}.0${o} <${a}.${+i+1}.0-0`),Ee("xRange return",n),n})},Tp=(e,t)=>(Ee("replaceStars",e,t),e.trim().replace(Ae[Ie.STAR],"")),Ip=(e,t)=>(Ee("replaceGTE0",e,t),e.trim().replace(Ae[t.includePrerelease?Ie.GTE0PRE:Ie.GTE0],"")),Rp=e=>(t,r,n,s,a,i,c,o,u,d,p,w,g)=>(Fe(n)?r="":Fe(s)?r=`>=${n}.0.0${e?"-0":""}`:Fe(a)?r=`>=${n}.${s}.0${e?"-0":""}`:i?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,Fe(u)?o="":Fe(d)?o=`<${+u+1}.0.0-0`:Fe(p)?o=`<${u}.${+d+1}.0-0`:w?o=`<=${u}.${d}.${p}-${w}`:e?o=`<${u}.${d}.${+p+1}-0`:o=`<=${o}`,`${r} ${o}`.trim()),Ap=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(Ee(e[n].semver),e[n].semver!==Zs.ANY&&e[n].semver.prerelease.length>0){const s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0},Mr=Symbol("SemVer ANY");class Nn{static get ANY(){return Mr}constructor(t,r){if(r=Cp(r),t instanceof Nn){if(t.loose===!!r.loose)return t;t=t.value}ta("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Mr?this.value="":this.value=this.operator+this.semver.version,ta("comp",this)}parse(t){const r=this.options.loose?po[mo.COMPARATORLOOSE]:po[mo.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new yo(n[2],this.options.loose):this.semver=Mr}toString(){return this.value}test(t){if(ta("Comparator.test",t,this.options.loose),this.semver===Mr||t===Mr)return!0;if(typeof t=="string")try{t=new yo(t,this.options)}catch{return!1}return ea(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof Nn))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new $o(t.value,r).test(this.value);if(t.operator==="")return t.value===""?!0:new $o(this.value,r).test(t.semver);const n=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),s=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),a=this.semver.version===t.semver.version,i=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),c=ea(this.semver,"<",t.semver,r)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),o=ea(this.semver,">",t.semver,r)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return n||s||a&&i||c||o}}var Pn=Nn;const Cp=gn,{re:po,t:mo}=Rt.exports,ea=io,ta=vn,yo=Le,$o=rt,Dp=rt,jp=(e,t,r)=>{try{t=new Dp(t,r)}catch{return!1}return t.test(e)};var Tn=jp;const Lp=rt,Fp=(e,t)=>new Lp(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var Mp=Fp;const kp=Le,Up=rt,Vp=(e,t,r)=>{let n=null,s=null,a=null;try{a=new Up(t,r)}catch{return null}return e.forEach(i=>{a.test(i)&&(!n||s.compare(i)===-1)&&(n=i,s=new kp(n,r))}),n};var zp=Vp;const qp=Le,Gp=rt,Kp=(e,t,r)=>{let n=null,s=null,a=null;try{a=new Gp(t,r)}catch{return null}return e.forEach(i=>{a.test(i)&&(!n||s.compare(i)===1)&&(n=i,s=new qp(n,r))}),n};var Hp=Kp;const ra=Le,Xp=rt,vo=wn,Bp=(e,t)=>{e=new Xp(e,t);let r=new ra("0.0.0");if(e.test(r)||(r=new ra("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let a=null;s.forEach(i=>{const c=new ra(i.semver.version);switch(i.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!a||vo(c,a))&&(a=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),a&&(!r||vo(r,a))&&(r=a)}return r&&e.test(r)?r:null};var xp=Bp;const Wp=rt,Yp=(e,t)=>{try{return new Wp(e,t).range||"*"}catch{return null}};var Jp=Yp;const Qp=Le,go=Pn,{ANY:Zp}=go,em=rt,tm=Tn,_o=wn,Eo=xs,rm=Ys,nm=Ws,sm=(e,t,r,n)=>{e=new Qp(e,n),t=new em(t,n);let s,a,i,c,o;switch(r){case">":s=_o,a=rm,i=Eo,c=">",o=">=";break;case"<":s=Eo,a=nm,i=_o,c="<",o="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(tm(e,t,n))return!1;for(let u=0;u<t.set.length;++u){const d=t.set[u];let p=null,w=null;if(d.forEach(g=>{g.semver===Zp&&(g=new go(">=0.0.0")),p=p||g,w=w||g,s(g.semver,p.semver,n)?p=g:i(g.semver,w.semver,n)&&(w=g)}),p.operator===c||p.operator===o||(!w.operator||w.operator===c)&&a(e,w.semver))return!1;if(w.operator===o&&i(e,w.semver))return!1}return!0};var na=sm;const am=na,im=(e,t,r)=>am(e,t,">",r);var om=im;const cm=na,lm=(e,t,r)=>cm(e,t,"<",r);var um=lm;const wo=rt,fm=(e,t,r)=>(e=new wo(e,r),t=new wo(t,r),e.intersects(t));var dm=fm;const hm=Tn,pm=et;var mm=(e,t,r)=>{const n=[];let s=null,a=null;const i=e.sort((d,p)=>pm(d,p,r));for(const d of i)hm(d,t,r)?(a=d,s||(s=d)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);const c=[];for(const[d,p]of n)d===p?c.push(d):!p&&d===i[0]?c.push("*"):p?d===i[0]?c.push(`<=${p}`):c.push(`${d} - ${p}`):c.push(`>=${d}`);const o=c.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return o.length<u.length?o:t};const So=rt,In=Pn,{ANY:sa}=In,kr=Tn,aa=et,ym=(e,t,r={})=>{if(e===t)return!0;e=new So(e,r),t=new So(t,r);let n=!1;e:for(const s of e.set){for(const a of t.set){const i=$m(s,a,r);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},$m=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===sa){if(t.length===1&&t[0].semver===sa)return!0;r.includePrerelease?e=[new In(">=0.0.0-0")]:e=[new In(">=0.0.0")]}if(t.length===1&&t[0].semver===sa){if(r.includePrerelease)return!0;t=[new In(">=0.0.0")]}const n=new Set;let s,a;for(const g of e)g.operator===">"||g.operator===">="?s=bo(s,g,r):g.operator==="<"||g.operator==="<="?a=Oo(a,g,r):n.add(g.semver);if(n.size>1)return null;let i;if(s&&a){if(i=aa(s.semver,a.semver,r),i>0)return null;if(i===0&&(s.operator!==">="||a.operator!=="<="))return null}for(const g of n){if(s&&!kr(g,String(s),r)||a&&!kr(g,String(a),r))return null;for(const b of t)if(!kr(g,String(b),r))return!1;return!0}let c,o,u,d,p=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,w=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;p&&p.prerelease.length===1&&a.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(const g of t){if(d=d||g.operator===">"||g.operator===">=",u=u||g.operator==="<"||g.operator==="<=",s){if(w&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===w.major&&g.semver.minor===w.minor&&g.semver.patch===w.patch&&(w=!1),g.operator===">"||g.operator===">="){if(c=bo(s,g,r),c===g&&c!==s)return!1}else if(s.operator===">="&&!kr(s.semver,String(g),r))return!1}if(a){if(p&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===p.major&&g.semver.minor===p.minor&&g.semver.patch===p.patch&&(p=!1),g.operator==="<"||g.operator==="<="){if(o=Oo(a,g,r),o===g&&o!==a)return!1}else if(a.operator==="<="&&!kr(a.semver,String(g),r))return!1}if(!g.operator&&(a||s)&&i!==0)return!1}return!(s&&u&&!a&&i!==0||a&&d&&!s&&i!==0||w||p)},bo=(e,t,r)=>{if(!e)return t;const n=aa(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Oo=(e,t,r)=>{if(!e)return t;const n=aa(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var vm=ym;const ia=Rt.exports;var gm={re:ia.re,src:ia.src,tokens:ia.t,SEMVER_SPEC_VERSION:$n.SEMVER_SPEC_VERSION,SemVer:Le,compareIdentifiers:Hs.compareIdentifiers,rcompareIdentifiers:Hs.rcompareIdentifiers,parse:cr,valid:th,clean:sh,inc:oh,diff:hh,major:yh,minor:gh,patch:wh,prerelease:Oh,compare:et,rcompare:Th,compareLoose:Ah,compareBuild:Bs,sort:Lh,rsort:kh,gt:wn,lt:xs,eq:Xs,neq:ao,gte:Ws,lte:Ys,cmp:io,coerce:ap,Comparator:Pn,Range:rt,satisfies:Tn,toComparators:Mp,maxSatisfying:zp,minSatisfying:Hp,minVersion:xp,validRange:Jp,outside:na,gtr:om,ltr:um,intersects:dm,simplifyRange:mm,subset:vm},Rn={exports:{}},oa={exports:{}};const No=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};oa.exports=No;oa.exports.default=No;const _m=oa.exports,An=new WeakMap,Po=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const s=e.displayName||e.name||"<anonymous>",a=function(...i){if(An.set(a,++n),n===1)r=e.apply(this,i),e=null;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return _m(a,e),An.set(a,n),a};Rn.exports=Po;Rn.exports.default=Po;Rn.exports.callCount=e=>{if(!An.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return An.get(e)};(function(e,t){var r=_r&&_r.__classPrivateFieldSet||function(me,F,O,h,D){if(h==="m")throw new TypeError("Private method is not writable");if(h==="a"&&!D)throw new TypeError("Private accessor was defined without a setter");if(typeof F=="function"?me!==F||!D:!F.has(me))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h==="a"?D.call(me,O):D?D.value=O:F.set(me,O),O},n=_r&&_r.__classPrivateFieldGet||function(me,F,O,h){if(O==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof F=="function"?me!==F||!h:!F.has(me))throw new TypeError("Cannot read private member from an object whose class did not declare it");return O==="m"?h:O==="a"?h.call(me):h?h.value:F.get(me)},s,a,i,c,o,u;Object.defineProperty(t,"__esModule",{value:!0});const d=Oa.default,p=Ln.default,w=jt.default,g=nc.default,b=sc.default,P=ac.default,_=lc,$=Mn.exports,E=Gn.exports,R=ut,C=Br.exports,U=Ks.exports,S=Vd,I=gm,M=Rn.exports,k="aes-256-cbc",z=()=>Object.create(null),Y=me=>me!=null;let B="";try{delete require.cache[__filename],B=w.dirname((a=(s=e.parent)===null||s===void 0?void 0:s.filename)!==null&&a!==void 0?a:".")}catch{}const $e=(me,F)=>{const O=new Set(["undefined","symbol","function"]),h=typeof F;if(O.has(h))throw new TypeError(`Setting a value of type \`${h}\` for key \`${me}\` is not allowed as it's not supported by JSON`)},re="__internal__",ke=`${re}.migrations.version`;class xe{constructor(F={}){var O;i.set(this,void 0),c.set(this,void 0),o.set(this,void 0),u.set(this,{}),this._deserialize=y=>JSON.parse(y),this._serialize=y=>JSON.stringify(y,void 0,"	");const h=oe({configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438},F),D=M(()=>{const y=$.sync({cwd:B}),j=y&&JSON.parse(p.readFileSync(y,"utf8"));return j!=null?j:{}});if(!h.cwd){if(h.projectName||(h.projectName=D().name),!h.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");h.cwd=E(h.projectName,{suffix:h.projectSuffix}).config}if(r(this,o,h,"f"),h.schema){if(typeof h.schema!="object")throw new TypeError("The `schema` option must be an object.");const y=new C.default({allErrors:!0,useDefaults:!0});(0,U.default)(y);const j={type:"object",properties:h.schema};r(this,i,y.compile(j),"f");for(const[V,q]of Object.entries(h.schema))(q==null?void 0:q.default)&&(n(this,u,"f")[V]=q.default)}h.defaults&&r(this,u,oe(oe({},n(this,u,"f")),h.defaults),"f"),h.serialize&&(this._serialize=h.serialize),h.deserialize&&(this._deserialize=h.deserialize),this.events=new P.EventEmitter,r(this,c,h.encryptionKey,"f");const L=h.fileExtension?`.${h.fileExtension}`:"";this.path=w.resolve(h.cwd,`${(O=h.configName)!==null&&O!==void 0?O:"config"}${L}`);const A=this.store,l=Object.assign(z(),h.defaults,A);this._validate(l);try{b.deepEqual(A,l)}catch{this.store=l}if(h.watch&&this._watch(),h.migrations){if(h.projectVersion||(h.projectVersion=D().version),!h.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(h.migrations,h.projectVersion)}}get(F,O){if(n(this,o,"f").accessPropertiesByDotNotation)return this._get(F,O);const{store:h}=this;return F in h?h[F]:O}set(F,O){if(typeof F!="string"&&typeof F!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof F}`);if(typeof F!="object"&&O===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(F))throw new TypeError(`Please don't use the ${re} key, as it's used to manage this module internal operations.`);const{store:h}=this,D=(L,A)=>{$e(L,A),n(this,o,"f").accessPropertiesByDotNotation?_.set(h,L,A):h[L]=A};if(typeof F=="object"){const L=F;for(const[A,l]of Object.entries(L))D(A,l)}else D(F,O);this.store=h}has(F){return n(this,o,"f").accessPropertiesByDotNotation?_.has(this.store,F):F in this.store}reset(...F){for(const O of F)Y(n(this,u,"f")[O])&&this.set(O,n(this,u,"f")[O])}delete(F){const{store:O}=this;n(this,o,"f").accessPropertiesByDotNotation?_.delete(O,F):delete O[F],this.store=O}clear(){this.store=z();for(const F of Object.keys(n(this,u,"f")))this.reset(F)}onDidChange(F,O){if(typeof F!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof F}`);if(typeof O!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof O}`);return this._handleChange(()=>this.get(F),O)}onDidAnyChange(F){if(typeof F!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof F}`);return this._handleChange(()=>this.store,F)}get size(){return Object.keys(this.store).length}get store(){try{const F=p.readFileSync(this.path,n(this,c,"f")?null:"utf8"),O=this._encryptData(F),h=this._deserialize(O);return this._validate(h),Object.assign(z(),h)}catch(F){if((F==null?void 0:F.code)==="ENOENT")return this._ensureDirectory(),z();if(n(this,o,"f").clearInvalidConfig&&F.name==="SyntaxError")return z();throw F}}set store(F){this._ensureDirectory(),this._validate(F),this._write(F),this.events.emit("change")}*[(i=new WeakMap,c=new WeakMap,o=new WeakMap,u=new WeakMap,Symbol.iterator)](){for(const[F,O]of Object.entries(this.store))yield[F,O]}_encryptData(F){if(!n(this,c,"f"))return F.toString();try{if(n(this,c,"f"))try{if(F.slice(16,17).toString()===":"){const O=F.slice(0,16),h=g.pbkdf2Sync(n(this,c,"f"),O.toString(),1e4,32,"sha512"),D=g.createDecipheriv(k,h,O);F=Buffer.concat([D.update(Buffer.from(F.slice(17))),D.final()]).toString("utf8")}else{const O=g.createDecipher(k,n(this,c,"f"));F=Buffer.concat([O.update(Buffer.from(F)),O.final()]).toString("utf8")}}catch{}}catch{}return F.toString()}_handleChange(F,O){let h=F();const D=()=>{const L=h,A=F();(0,d.isDeepStrictEqual)(A,L)||(h=A,O.call(this,A,L))};return this.events.on("change",D),()=>this.events.removeListener("change",D)}_validate(F){if(!n(this,i,"f")||n(this,i,"f").call(this,F)||!n(this,i,"f").errors)return;const h=n(this,i,"f").errors.map(({instancePath:D,message:L=""})=>`\`${D.slice(1)}\` ${L}`);throw new Error("Config schema violation: "+h.join("; "))}_ensureDirectory(){p.mkdirSync(w.dirname(this.path),{recursive:!0})}_write(F){let O=this._serialize(F);if(n(this,c,"f")){const h=g.randomBytes(16),D=g.pbkdf2Sync(n(this,c,"f"),h.toString(),1e4,32,"sha512"),L=g.createCipheriv(k,D,h);O=Buffer.concat([h,Buffer.from(":"),L.update(Buffer.from(O)),L.final()])}try{R.writeFileSync(this.path,O,{mode:n(this,o,"f").configFileMode})}catch(h){if((h==null?void 0:h.code)==="EXDEV"){p.writeFileSync(this.path,O,{mode:n(this,o,"f").configFileMode});return}throw h}}_watch(){this._ensureDirectory(),p.existsSync(this.path)||this._write(z()),process.platform==="win32"?p.watch(this.path,{persistent:!1},S(()=>{this.events.emit("change")},{wait:100})):p.watchFile(this.path,{persistent:!1},S(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(F,O){let h=this._get(ke,"0.0.0");const D=Object.keys(F).filter(A=>this._shouldPerformMigration(A,h,O));let L=oe({},this.store);for(const A of D)try{F[A](this),this._set(ke,A),h=A,L=oe({},this.store)}catch(l){throw this.store=L,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${l}`)}(this._isVersionInRangeFormat(h)||!I.eq(h,O))&&this._set(ke,O)}_containsReservedKey(F){return typeof F=="object"&&Object.keys(F)[0]===re?!0:typeof F!="string"?!1:n(this,o,"f").accessPropertiesByDotNotation?!!F.startsWith(`${re}.`):!1}_isVersionInRangeFormat(F){return I.clean(F)===null}_shouldPerformMigration(F,O,h){return this._isVersionInRangeFormat(F)?O!=="0.0.0"&&I.satisfies(O,F)?!1:I.satisfies(h,F):!(I.lte(F,O)||I.gt(F,h))}_get(F,O){return _.get(this.store,F,O)}_set(F,O){const{store:h}=this;_.set(h,F,O),this.store=h}}t.default=xe,e.exports=xe,e.exports.default=xe})(Fn,Fn.exports);const To=jt.default,{app:Cn,ipcMain:ca,ipcRenderer:Io,shell:Em}=rc.default,wm=Fn.exports;let Ro=!1;const Ao=()=>{if(!ca||!Cn)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:Cn.getPath("userData"),appVersion:Cn.getVersion()};return Ro||(ca.on("electron-store-get-data",t=>{t.returnValue=e}),Ro=!0),e};class Sm extends wm{constructor(t){let r,n;if(Io){const s=Io.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else ca&&Cn&&({defaultCwd:r,appVersion:n}=Ao());t=oe({name:"config"},t),t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=To.isAbsolute(t.cwd)?t.cwd:To.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name;super(t)}static initRenderer(){Ao()}openInEditor(){Em.openPath(this.path)}}var bm=Sm;const la=new bm;Oe.ipcMain.handle("electron-store",async(e,t,...r)=>typeof la[t]=="function"?la[t](...r):la[t]);const Om=Oe.app.name;Oe.app.getVersion();const Nm={title:Om,width:1300,height:850,minHeight:642,minWidth:1e3,titleBarStyle:"hiddenInset",trafficLightPosition:{x:7,y:7},webPreferences:{preload:jn.join(__dirname,"../preload/index.cjs"),scrollBounce:!1},hasShadow:!0,vibrancy:"fullscreen-ui"},Pm=ba.default.release().startsWith("6.1");Pm&&Oe.app.disableHardwareAcceleration();Oe.app.requestSingleInstanceLock()||(Oe.app.quit(),process.exit(0));let Me=null;async function Co(){if(Me=new Oe.BrowserWindow(oe({},Nm)),Me.setTitle("Leetecho"),Me.removeMenu(),Oe.app.isPackaged)Me.loadFile(jn.join(__dirname,"../renderer/index.html"));else{const e=await Promise.resolve().then(function(){return require("./package.js")}),t=`http://${e.env.HOST||"127.0.0.1"}:${e.env.PORT}`;Me.loadURL(t),Me.webContents.openDevTools()}Me.webContents.on("did-finish-load",()=>{Me==null||Me.webContents.send("main-process-message",new Date().toLocaleString())}),Oe.ipcMain.on("get-path",(e,t)=>{e.returnValue=Oe.app.getPath(t)})}Oe.app.whenReady().then(Co);Oe.app.on("window-all-closed",()=>{Me=null,process.platform!=="darwin"&&Oe.app.quit()});Oe.app.on("second-instance",()=>{Me&&(Me.isMinimized()&&Me.restore(),Me.focus())});Oe.app.on("activate",()=>{const e=Oe.BrowserWindow.getAllWindows();e.length?e[0].focus():Co()});
